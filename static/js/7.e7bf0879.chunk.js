(this.webpackJsonpvevergo=this.webpackJsonpvevergo||[]).push([[7],{311:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(9),i=a.n(n),c=a(12),r=a(33),s=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.a)("GET","/view/item_listing/".concat(t,"/media")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},354:function(e,t,a){},355:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},361:function(e,t,a){},375:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);a(354);var n=a(3),i=function(e){var t=e.children;return Object(n.jsx)("div",{className:"page-container",children:t})},c=a(9),r=a.n(c),s=a(12),l=a(20),o=a(0),d=a(311),u=a(33),m=function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="view/item_listing/".concat(t),e.abrupt("return",Object(u.a)("GET",i,a,null,n));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),j=a(39),b=a(16),_=a(298),p=a(406),v=a(356),O=a(407),h=a(305),f=(a(355),function(e){var t=e.isFavorite,a=e.isLoggedIn,i=e.className,c=e.onFavoriteClick,r=e.userEmail,s=Object(h.a)().t,l=Object(o.useMemo)((function(){var e=window.location.href,t=encodeURI(e);return"https://facebook.com/sharer/sharer.php?u=".concat(t)}),[]),d=Object(o.useMemo)((function(){return"mailto:".concat(r)}),[r]),u=Object(o.useCallback)((function(){window.print()}),[]);return Object(n.jsxs)("div",{className:i,children:[a&&Object(n.jsx)("span",{onClick:c,title:s(t?"lblRemoveFromFavorites":"lblAddToFavorites"),className:"ad-details-icon",children:Object(n.jsx)(_.a,{className:"ad-details-icon__svg ".concat(t?"favorite":"")})}),Object(n.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"ad-details-icon",children:Object(n.jsx)(p.a,{className:"ad-details-icon__svg"})}),Object(n.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"ad-details-icon",children:Object(n.jsx)(v.a,{className:"ad-details-icon__svg"})}),Object(n.jsx)("span",{onClick:u,className:"ad-details-icon",children:Object(n.jsx)(O.a,{className:"ad-details-icon__svg"})})]})}),x=(a(357),a(358),function(e){var t=e.currency_name,a=e.price_formatted,i=e.converted_price_formatted,c=e.measurement_unit_name,r=e.cn,s=e.shouldDisplaySeparator,l=e.price_by_agreement,o=e.activeCurrency,d=Object(h.a)().t;return Object(n.jsxs)("div",{className:r,children:["top"===s&&Object(n.jsx)("div",{className:"ad-details-price__horizontal-separator"}),Object(n.jsx)("h2",{children:Object(n.jsxs)("strong",{children:[t===o?a:i||a?"\u2248 ".concat(i):null," ",i||a?o:l?d("lblPriceByAgreement"):null,!!c&&"/",c]})}),t!==o&&Object(n.jsxs)("span",{className:"ad-details-price__segment-text",children:[a," ",t,!!c&&"/",c]}),"bottom"===s&&Object(n.jsx)("div",{className:"ad-details-price__horizontal-separator"})]})}),g=a(359),N=a.n(g),w=(a(360),a(361),function(e){var t=e.images,a=Object(o.useMemo)((function(){return t.map((function(e,t){var a=e.imageUrl,i=e.thumbnailUrl,c=e.videoUrl,r=e.media_type,s={original:a,thumbnail:i,description:e.comment,originalClass:"image-gallery-original",thumbnailClass:"image-gallery-thumbnail"};return 1===r||(s.renderItem=function(){return function(e,t){return Object(n.jsx)("div",{className:"video-wrapper",children:Object(n.jsx)("iframe",{title:t,width:"560",height:"315",src:e,frameBorder:"0",allowFullScreen:!0})})}(c,t)}),s}))}),[t]);return Object(n.jsx)("div",{className:"image-gallery-wrapper",children:Object(n.jsx)(N.a,{items:a,showPlayButton:!1,showBullets:!0,showIndex:!0,lazyLoad:!0})})}),y=a(362),k=a(408),C=a(409),F=a(410),M=a(351),L=(a(375),0),I=function(e){var t=e.attributes,a=Object(o.useCallback)((function(e,t,a,n,i){if(0===a.length)return[e,t];if(n===i)return[e,t];var c=a.find((function(e){return e.metric_system===i}))||{},r=c.value_formatted;return[void 0===r?e:r,c.name]}),[]),i=Object(o.useMemo)((function(){var e="";return t.reduce((function(t,n,i){var c=n.group_name,r=n.name,s=n.value_formatted,o=n.measurement_unit_name,d=n.additional_measurement_units,u=n.metric_system;t[c]||(t[c]=[]);var m=a(s,o,d,u,false),j=Object(l.a)(m,2),b={key:r,value:j[0],unit:j[1]};return 0===i&&(e=r),0!==i&&(r!==e?e=r:b.key=""),t[c].push(b),t}),{})}),[t,a]),c=Object(o.useState)(new Set),r=Object(l.a)(c,2),s=r[0],d=r[1],u=Object(o.useCallback)((function(e){d((function(t){return t.has(e)?t.delete(e):t.add(e),t}))}),[]);return Object(n.jsx)("div",{className:"ad-details__details-info-container",children:Object.keys(i).map((function(e,t){var a=i[e],c=!s.has(e);return L++,Object(n.jsxs)("div",{className:"ad-details__details-info-group-container",children:[Object(n.jsxs)("div",{className:"ad-details__details-info-group-title-container ".concat(L%2===1?"ad-details__details-info-group-item-white":""),onClick:function(){return u(e)},children:[Object(n.jsx)("div",{children:c?Object(n.jsx)(k.a,{className:"ad-details__details-info-group-title-container-icon"}):Object(n.jsx)(C.a,{className:"ad-details__details-info-group-title-container-icon"})}),Object(n.jsx)("div",{children:Object(n.jsx)("strong",{children:e})})]}),c&&Object(n.jsx)("div",{className:"ad-details__details-info-group-info-container",children:a.map((function(e,a){L++;var i=e.key,c=e.value,r=e.unit;return Object(n.jsxs)("div",{className:"ad-details__details-info-group-info-item ".concat(L%2===1?"ad-details__details-info-group-item-white":""),children:[Object(n.jsxs)("div",{className:"ad-details__details-info-group-key",children:[i,""!==i?":":""]}),Object(n.jsx)("div",{className:"ad-details__details-info-group-value",children:Object(n.jsxs)("strong",{children:[Object(n.jsx)(z,{value:c})," ",r]})})]},t)}))})]},t)}))})},z=function(e){var t=e.value;switch(t){case"True":return Object(n.jsx)(F.a,{size:15});case"False":return Object(n.jsx)(M.a,{size:15});default:return t}},S=a(345),T=a(411);t.default=function(){var e=Object(h.a)().t,t=function(){var e,t,a,n=Object(b.b)((function(e){return e.currencies})),i=n.active,c=n.list,u=Object(b.b)((function(e){return e.languages})),_=u.active,p=u.list,v=Object(o.useMemo)((function(){var e;return null===(e=p.find((function(e){return e.id===_})))||void 0===e?void 0:e.code}),[_,p]),O=Object(o.useState)(),h=Object(l.a)(O,2),f=h[0],x=h[1],g=Object(o.useState)(),N=Object(l.a)(g,2),w=N[0],y=N[1],k=c.find((function(e){return e.id===i})).name;Object(o.useEffect)((function(){try{var e=window.location.pathname.split("/")[2];x(e)}catch(t){console.log("error")}}),[]),Object(o.useEffect)((function(){f&&function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,c,s,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={iss_authentication_token:null},v&&(n["accept-language"]=v),e.next=4,m(t,{currency:i},n);case 4:return 0!==(null===(c=e.sent)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.error_id)&&(window.location.href="/"),s=c.data.items[0],e.next=9,Object(d.a)(t);case 9:l=e.sent,o=l.data.items.reduce((function(e,t){var a=t.id,n=t.comment,i=t.media_type,c=t.video_code,r={comment:n,media_type:i,image_height:t.image_height,image_width:t.image_width,imageUrl:1===i?"https://api.vevergo.com:4443/item_images/"+a+".jpeg":"https://img.youtube.com/vi/"+c+"/maxresdefault.jpg",videoUrl:2===i?"https://www.youtube.com/embed/"+c:null,thumbnailUrl:1===i?"https://api.vevergo.com:4443/item_adjusted_images/"+a+".jpeg":"https://img.youtube.com/vi/"+c+"/maxresdefault.jpg"};return t.default?e.unshift(r):e.push(r),e}),[]),y({item:s,media:o});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(f)}),[f,v,i]);var C=Object(o.useMemo)((function(){return!1}),[]),F=Object(o.useMemo)((function(){return!1}),[]),M=Object(o.useCallback)((function(){}),[]),L=Object(o.useMemo)((function(){var e,t;return"1"===(null===w||void 0===w||null===(e=w.item)||void 0===e?void 0:e.owner)?"".concat(j.a,"/my-items"):"".concat(j.a,"/profile/").concat(null===w||void 0===w||null===(t=w.item)||void 0===t?void 0:t.owner,"/items")}),[null===w||void 0===w||null===(e=w.item)||void 0===e?void 0:e.owner]),I=Object(o.useMemo)((function(){var e,t,a,n,i,c,r,s=null!==(e=null===w||void 0===w||null===(t=w.item)||void 0===t?void 0:t.country_name)&&void 0!==e?e:"",l="https://www.google.com/maps/place/";return(null===w||void 0===w||null===(a=w.item)||void 0===a?void 0:a.place)?(l+=(null===w||void 0===w||null===(n=w.item)||void 0===n?void 0:n.place)+",+ "+(null===w||void 0===w||null===(i=w.item)||void 0===i?void 0:i.country_name),s+=", "+(null===w||void 0===w||null===(c=w.item)||void 0===c?void 0:c.place)):l+=null===w||void 0===w||null===(r=w.item)||void 0===r?void 0:r.country_name,{placeLink:l,placeText:s}}),[null===w||void 0===w||null===(t=w.item)||void 0===t?void 0:t.country_name,null===w||void 0===w||null===(a=w.item)||void 0===a?void 0:a.place]),z=I.placeLink,S=I.placeText,T=Object(o.useState)(!1),E=Object(l.a)(T,2),U=E[0],B=E[1],D=Object(o.useState)(!1),R=Object(l.a)(D,2),P=R[0],A=R[1];return{ad:w,isFavorite:C,isLoggedIn:F,onFavoriteClick:M,activeCurrencyName:k,userLink:L,placeLink:z,placeText:S,userId:"1",modalOpen:U,setModalOpen:B,reportModalOpen:P,setReportModalOpen:A}}(),a=t.ad,c=t.isFavorite,u=t.isLoggedIn,_=t.onFavoriteClick,p=t.activeCurrencyName,O=t.userLink,g=t.placeLink,N=t.placeText,k=t.userId,C=(t.modalOpen,t.setModalOpen),F=(t.reportModalOpen,t.setReportModalOpen);if(!a)return null;var M=a.item,L=a.media,z=M.listing_type_name,E=M.title,U=M.description,B=M.attributes,D=M.price_formatted,R=M.currency_name,P=M.converted_price_formatted,A=M.owner_nickname,G=M.expiry_date_formatted,J=M.change_date_formatted,V=M.create_date_formatted,q=M.view_count,H=M.owner_phone_number,K=M.owner_mobile_number,Q=M.owner,W=M.measurement_unit_name,X=M.price_by_agreement,Y=M.owner_name,Z=K||H;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(i,{children:Object(n.jsxs)("div",{className:"ad-details",children:[Object(n.jsxs)("div",{className:"ad-details__header",children:[Object(n.jsxs)("span",{className:"ad-details__header-title",children:[Object(n.jsx)("strong",{children:z}),": ",E]}),Object(n.jsx)(f,{isFavorite:c,isLoggedIn:u,className:"ad-details-icon-wrapper-desktop",onFavoriteClick:_,userEmail:"test@tset.test"})]}),Object(n.jsx)(x,{currency_name:R,price_formatted:D,converted_price_formatted:P,measurement_unit_name:W,cn:"ad-details-price__mobile",shouldDisplaySeparator:"top",price_by_agreement:X,activeCurrency:p}),Object(n.jsxs)("div",{className:"ad-details__main",children:[Object(n.jsxs)("div",{className:"ad-details__main-info",children:[Object(n.jsx)("div",{className:"ad-details__main-swiper",children:0!==L.length&&Object(n.jsx)(w,{images:L})}),Object(n.jsx)("span",{className:"ad-details__section-label",children:Object(n.jsx)("strong",{children:e("lblDescription")})}),Object(n.jsx)("div",{className:"ad-details-price__horizontal-separator "}),Object(n.jsx)("span",{className:"ad-details__section-text",children:Object(y.a)(U)}),Object(n.jsx)("span",{className:"ad-details__section-label",children:Object(n.jsx)("strong",{children:e("lblDetails")})}),Object(n.jsx)("div",{className:"ad-details-price__horizontal-separator "}),Object(n.jsx)(I,{attributes:B}),Object(n.jsx)("div",{className:"ad-details-price__horizontal-separator "})]}),Object(n.jsx)("div",{className:"ad-details__empty-segment"}),Object(n.jsxs)("div",{className:"ad-details__price-segment",children:[Object(n.jsx)(x,{currency_name:R,price_formatted:D,converted_price_formatted:P,measurement_unit_name:W,cn:"ad-details-price",shouldDisplaySeparator:"bottom",price_by_agreement:X,activeCurrency:p}),Object(n.jsxs)("span",{className:"ad-details-price__segment-text",children:[e("lblPostedBy"),":"," ",Object(n.jsxs)("a",{href:O,children:[A,null!==Y?" (".concat(Y,")"):""]})]}),Object(n.jsxs)("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"ad-details__segmnet-link",children:[Object(n.jsx)(S.a,{size:15,className:"ad-details__mappin"}),Object(n.jsx)("span",{className:"ad-details__segmnet-link-text",children:N})]}),Object(n.jsxs)("span",{className:"ad-details-price__segment-text",children:[e("lblValidTo"),": ",G]}),Object(n.jsx)("div",{className:"ad-details-price__horizontal-separator "}),Object(n.jsxs)("div",{className:"ad-details__contact-container",children:[u&&k!==Q&&Object(n.jsxs)("div",{className:"ad-details__phone-button",onClick:function(){return C(!0)},children:[Object(n.jsx)(v.a,{}),e("lblContactOwner")]}),Z&&Object(n.jsx)("div",{children:Object(n.jsxs)("a",{href:"tel:".concat(Z),className:"ad-details__phone-button",children:[Object(n.jsx)(T.a,{}),Z]})})]})]})]}),Object(n.jsx)(f,{isFavorite:c,isLoggedIn:u,className:"ad-details-icon-wrapper-mobile",onFavoriteClick:_,userEmail:"test@tset.test"}),Object(n.jsxs)("div",{className:"ad-details__footer",children:[Object(n.jsx)("span",{onClick:function(){return F(!0)},className:"ad-details__footer-text report-item",children:e("lblReportItem")}),Object(n.jsxs)("span",{className:"ad-details__footer-text",children:[e("lblCreated"),": ",Object(n.jsx)("strong",{children:V}),", ",e("lblChanged"),":"," ",Object(n.jsx)("strong",{children:J}),", ",e("lblViews"),": ",Object(n.jsx)("strong",{children:q})]})]})]})})})}}}]);
//# sourceMappingURL=7.e7bf0879.chunk.js.map