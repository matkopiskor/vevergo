{"version":3,"sources":["components/input/Input.tsx","api/login.ts","assets/img/login.png","pages/login/Login.tsx","pages/login/useLogin.ts"],"names":["Input","label","onChange","value","placeholder","type","name","labelClassName","inputClassName","Prefix","className","prefix","login","params","a","headers","iss_email","email","iss_password","password","ApiService","Item","Form","Login","onLogin","dispatch","useAppDispatch","goTo","useAppHistory","useCallback","values","response","console","log","data","error_id","items","token","setData","useLogin","t","useTranslation","src","loginImg","alt","onFinish","size","href","htmlType"],"mappings":"yLAkBaA,EAAmB,SAAC,GAU1B,IATHC,EASE,EATFA,MACAC,EAQE,EARFA,SACAC,EAOE,EAPFA,MACAC,EAME,EANFA,YAME,IALFC,YAKE,MALK,OAKL,EAJFC,EAIE,EAJFA,KAIE,IAHFC,sBAGE,MAHe,GAGf,MAFFC,sBAEE,MAFe,GAEf,EADFC,EACE,EADFA,OAEA,OACI,sBAAKC,UAAU,iBAAf,UACI,uBAAOA,UAAS,uBAAkBH,GAAlC,SAAqDN,IACrD,cAAC,IAAD,CACII,KAAMA,EACNK,UAAS,wBAAmBF,GAC5BN,SAAUA,EACVC,MAAOA,EACPC,YAAaA,EACbE,KAAMA,EACNK,OAAQF,S,kHChCXG,EAAK,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACXC,EAAU,CACZC,UAAWH,EAAOI,MAClBC,aAAcL,EAAOM,UAHR,kBAMVC,YAAgB,MAAO,aAAc,KAAM,KAAML,IANvC,2CAAH,sD,wBCPH,MAA0B,kC,6DCSjCM,EAASC,IAATD,KAsDOE,UApDG,WAAO,IACbC,ECNY,WACpB,IAAMC,EAAWC,cACTC,EAASC,cAATD,KAmBR,MAAO,CAAEH,QAlBOK,sBAAW,uCACvB,WAAOC,GAAP,yBAAAhB,EAAA,sEAC2BF,EAAMkB,GADjC,OACUC,EADV,OAEIC,QAAQC,IAAIF,GAFhB,EAMQA,EAFAG,KAAQC,EAJhB,EAIgBA,SAAUC,EAJ1B,EAI0BA,MAClBrB,EACAgB,EADAhB,QAEa,IAAboB,IAGME,EAAQtB,EAAO,yBACrBU,EAASa,YAAQ,CAAEJ,KAAME,EAAM,GAAIC,WACnCV,EAAK,KAAK,EAAO,KAZzB,2CADuB,sDAgBvB,CAACF,EAAUE,KDbKY,GAAZf,QACAgB,EAAMC,cAAND,EACR,OACI,sBAAK9B,UAAU,QAAf,UACI,qBAAKA,UAAU,eAAf,SACI,qBAAKgC,IAAKC,EAAUC,IAAI,gBAE5B,sBAAKlC,UAAU,cAAf,UACI,oBAAIA,UAAU,oBAAd,SAAmC8B,EAAE,cACrC,mBAAG9B,UAAU,0BAAb,SAAwC8B,EAAE,yBAC1C,eAAC,IAAD,CAAMlC,KAAK,aAAauC,SAAUrB,EAAlC,UACI,cAACH,EAAD,CAAMf,KAAK,QAAX,SACI,cAAC,IAAD,CACID,KAAK,QACLD,YAAaoC,EAAE,YACfvC,MAAOuC,EAAE,YACTjC,eAAe,0BACfC,eAAe,oBACfC,OAAQ,cAAC,IAAD,CAAMqC,KAAM,GAAIpC,UAAU,+BAG1C,cAACW,EAAD,CAAMf,KAAK,WAAX,SACI,cAAC,IAAD,CACID,KAAK,WACLD,YAAaoC,EAAE,eACfvC,MAAOuC,EAAE,eACTjC,eAAe,0BACfC,eAAe,oBACfC,OAAQ,cAAC,IAAD,CAAMqC,KAAM,GAAIpC,UAAU,+BAG1C,sBAAKA,UAAU,sBAAf,UACI,sBAAMA,UAAU,2BAAhB,SAA4C8B,EAAE,2BAC9C,mBAAGO,KAAK,YAAYrC,UAAU,2BAA9B,SACK8B,EAAE,0BAGX,sBAAK9B,UAAU,sBAAf,UACI,cAAC,IAAD,CAAQA,UAAU,uBAAuBsC,SAAS,SAAlD,SACKR,EAAE,iBAEP,cAAC,IAAD,CAAQ9B,UAAU,oBAAoBsC,SAAS,SAA/C,SACKR,EAAE","file":"static/js/9.3eb37bf3.chunk.js","sourcesContent":["import { ChangeEventHandler, FC } from 'react';\nimport { Input as AntInput } from 'antd';\n\nimport './Input.css';\nimport { Icon } from 'react-feather';\n\ninterface Props {\n    label?: string;\n    onChange?: ChangeEventHandler<HTMLInputElement>;\n    value?: string | number | undefined;\n    placeholder?: string;\n    type?: string;\n    name?: string;\n    labelClassName?: string;\n    inputClassName?: string;\n    Prefix?: JSX.Element;\n}\n\nexport const Input: FC<Props> = ({\n    label,\n    onChange,\n    value,\n    placeholder,\n    type = 'text',\n    name,\n    labelClassName = '',\n    inputClassName = '',\n    Prefix,\n}) => {\n    return (\n        <div className='input__wrapper'>\n            <label className={`input__label ${labelClassName}`}>{label}</label>\n            <AntInput\n                type={type}\n                className={`input__select ${inputClassName}`}\n                onChange={onChange}\n                value={value}\n                placeholder={placeholder}\n                name={name}\n                prefix={Prefix}\n            />\n        </div>\n    );\n};\n","import { ApiService } from '.';\n\ninterface ILoginParams {\n    email: string;\n    password: string;\n}\n\nexport const login = async (params: ILoginParams) => {\n    const headers = {\n        iss_email: params.email,\n        iss_password: params.password,\n    };\n\n    return ApiService<any>('GET', 'user/login', null, null, headers);\n};\n","export default __webpack_public_path__ + \"static/media/login.e97b9f18.png\";","import { FC } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLogin } from './useLogin';\nimport loginImg from '../../assets/img/login.png';\nimport './Login.css';\nimport { Button, Form } from 'antd';\nimport { Input } from '../../components/input';\nimport { Mail, Lock } from 'react-feather';\n\nconst { Item } = Form;\n\nconst Login: FC = () => {\n    const { onLogin } = useLogin();\n    const { t } = useTranslation();\n    return (\n        <div className='login'>\n            <div className='login__image'>\n                <img src={loginImg} alt='Login img' />\n            </div>\n            <div className='login__form'>\n                <h4 className='login__form-title'>{t('lblLogin')}</h4>\n                <p className='login__form-description'>{t('lblLoginDescription')}</p>\n                <Form name='login-form' onFinish={onLogin}>\n                    <Item name='email'>\n                        <Input\n                            type='email'\n                            placeholder={t('lblEmail')}\n                            label={t('lblEmail')}\n                            labelClassName='login__form-input-label'\n                            inputClassName='login__form-input'\n                            Prefix={<Mail size={16} className='login__form-input-icon' />}\n                        />\n                    </Item>\n                    <Item name='password'>\n                        <Input\n                            type='password'\n                            placeholder={t('lblPassword')}\n                            label={t('lblPassword')}\n                            labelClassName='login__form-input-label'\n                            inputClassName='login__form-input'\n                            Prefix={<Lock size={16} className='login__form-input-icon' />}\n                        />\n                    </Item>\n                    <div className='login__form-actions'>\n                        <span className='login__form-modal-action'>{t('lblReactivateQuestion')}</span>\n                        <a href='/register' className='login__form-modal-action'>\n                            {t('lblForgotPassword')}\n                        </a>\n                    </div>\n                    <div className='login__form-actions'>\n                        <Button className='login__form-register' htmlType='button'>\n                            {t('lblRegister')}\n                        </Button>\n                        <Button className='login__form-login' htmlType='submit'>\n                            {t('lblLogin')}\n                        </Button>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n","import { useCallback } from 'react';\nimport { login } from '../../api/login';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { setData } from '../../redux/reducers/userReducer';\nimport { useAppHistory } from '../../utils/useAppHistory';\n\nexport const useLogin = () => {\n    const dispatch = useAppDispatch();\n    const { goTo } = useAppHistory();\n    const onLogin = useCallback(\n        async (values: any) => {\n            const response = await login(values);\n            console.log(response);\n            const {\n                data: { error_id, items },\n                headers,\n            } = response;\n            if (error_id !== 0) {\n                // TODO\n            } else {\n                const token = headers['iss_authentication_token'];\n                dispatch(setData({ data: items[0], token }));\n                goTo('/', false, {});\n            }\n        },\n        [dispatch, goTo],\n    );\n    return { onLogin };\n};\n"],"sourceRoot":""}