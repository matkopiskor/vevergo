{"version":3,"sources":["components/input/Input.tsx","components/modal/Modal.tsx","../node_modules/react-feather/dist/icons/mail.js","../node_modules/react-feather/dist/icons/lock.js","api/login.ts","pages/login/Login.tsx","pages/login/useLogin.ts"],"names":["Input","props","label","onChange","value","placeholder","type","name","labelClassName","inputClassName","Prefix","disabled","infoText","required","className","title","InfoCircleOutlined","prefix","Modal","destroyOnClose","visible","okProps","cancelProps","children","size","showAsButton","rest","footer","push","onClick","handleOk","handleCancel","width","onCancel","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Mail","forwardRef","_ref","ref","_ref$color","color","_ref$size","React","createElement","xmlns","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","points","propTypes","PropTypes","string","oneOfType","number","displayName","Lock","x","y","rx","ry","login","params","a","extraHeaders","iss_email","email","iss_password","password","ApiService","method","url","reactivateAccount","resp","data","error_id","notify","description","ERROR_CODES","resetPassword","Item","Form","Login","useState","modalReactivateAccount","setModalReactivateAccount","openModalReactivateAccount","useCallback","closeModalReactivateAccount","modalResetPassword","setModalResetPassword","openModalResetPassword","closeModalResetPassword","dispatch","useAppDispatch","goTo","useAppHistory","onLogin","values","response","items","headers","token","getCultureDataOnLogin","cultureDataResponse","getPrivacyOnLogin","privacyResponse","cultureData","privacy","setData","fetchOrgs","onReactivateAccount","onPasswordReset","confirmation_url","window","location","origin","useLogin","t","useTranslation","isMobile","useIsMobile","src","ImgLogin","alt","onFinish","to","htmlType","rules","message"],"mappings":"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","file":"static/js/13.ae4dcbcf.chunk.js","sourcesContent":["import { ChangeEventHandler, FC } from 'react';\r\nimport { Input as AntInput, Tooltip } from 'antd';\r\n\r\nimport './Input.css';\r\nimport { InfoCircleOutlined } from '@ant-design/icons';\r\n\r\ninterface Props {\r\n    label?: string;\r\n    onChange?: ChangeEventHandler<HTMLInputElement>;\r\n    value?: string | number | undefined;\r\n    placeholder?: string;\r\n    type?: string;\r\n    name?: string;\r\n    labelClassName?: string;\r\n    inputClassName?: string;\r\n    Prefix?: JSX.Element;\r\n    disabled?: boolean;\r\n    infoText?: string;\r\n    required?: boolean;\r\n}\r\n\r\nexport const Input: FC<Props> = (props) => {\r\n    const {\r\n        label,\r\n        onChange,\r\n        value,\r\n        placeholder,\r\n        type = 'text',\r\n        name,\r\n        labelClassName = '',\r\n        inputClassName = '',\r\n        Prefix,\r\n        disabled,\r\n        infoText,\r\n        required,\r\n    } = props;\r\n    return (\r\n        <div className=\"input__wrapper\">\r\n            <div className=\"info-text-wrapper\">\r\n                <div>\r\n                    <label className={`input__label ${labelClassName}`}>{label}</label>\r\n                    {required && <span className=\"input__label-required\">*</span>}\r\n                </div>\r\n                {infoText && (\r\n                    <Tooltip title={infoText}>\r\n                        <InfoCircleOutlined />\r\n                    </Tooltip>\r\n                )}\r\n            </div>\r\n\r\n            <AntInput\r\n                type={type}\r\n                className={`input__select ${inputClassName}`}\r\n                onChange={onChange}\r\n                value={value}\r\n                placeholder={placeholder}\r\n                name={name}\r\n                prefix={Prefix}\r\n                disabled={disabled}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { Button, Modal as AntModal } from 'antd';\r\nimport './Modal.css';\r\n\r\ntype size = 'sm' | 'md';\r\n\r\ninterface IProps {\r\n    visible: boolean;\r\n    okProps?: {\r\n        label: string;\r\n        handleOk: any;\r\n        type?: any;\r\n    };\r\n    cancelProps: {\r\n        label?: string;\r\n        handleCancel: any;\r\n        showAsButton?: boolean;\r\n    };\r\n    title: string;\r\n    destroyOnClose?: boolean;\r\n    size?: size;\r\n}\r\n\r\nexport const Modal: FC<IProps> = ({ destroyOnClose, visible, okProps, cancelProps, title, children, size = 'sm' }) => {\r\n    const { showAsButton = true, ...rest } = cancelProps;\r\n    const footer: any[] = [];\r\n    if (!!okProps) {\r\n        footer.push(\r\n            <Button type={okProps?.type ?? 'button'} key=\"ok\" onClick={okProps.handleOk}>\r\n                {okProps.label}\r\n            </Button>\r\n        );\r\n    }\r\n    if (showAsButton) {\r\n        footer.push(\r\n            <Button key=\"cancel\" onClick={rest.handleCancel}>\r\n                {rest.label}\r\n            </Button>\r\n        );\r\n    }\r\n    const width = size === 'sm' ? 520 : 800;\r\n    return (\r\n        <AntModal\r\n            destroyOnClose={destroyOnClose}\r\n            visible={visible}\r\n            title={title}\r\n            footer={footer}\r\n            onCancel={cancelProps.handleCancel}\r\n            width={width}\r\n        >\r\n            {children}\r\n        </AntModal>\r\n    );\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Mail = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"22,6 12,13 2,6\"\n  }));\n});\nMail.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMail.displayName = 'Mail';\nexport default Mail;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Lock = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"3\",\n    y: \"11\",\n    width: \"18\",\n    height: \"11\",\n    rx: \"2\",\n    ry: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n  }));\n});\nLock.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nLock.displayName = 'Lock';\nexport default Lock;","import { ApiService } from '.';\r\nimport { ERROR_CODES } from '../constants/errorCodes';\r\nimport { notify } from '../services/notifications';\r\n\r\ninterface ILoginParams {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nexport const login = async (params: ILoginParams) => {\r\n    const extraHeaders = {\r\n        iss_email: params.email,\r\n        iss_password: params.password,\r\n    };\r\n\r\n    return ApiService<any>({ method: 'GET', url: 'user/login', extraHeaders });\r\n};\r\n\r\nexport const reactivateAccount = async (params: ILoginParams) => {\r\n    const extraHeaders = {\r\n        iss_email: params.email,\r\n        iss_password: params.password,\r\n    };\r\n\r\n    const resp = await ApiService<any>({ method: 'GET', url: 'user/reactivate', extraHeaders });\r\n    if ((resp as any)?.data?.error_id && (resp as any)?.data?.error_id !== 0) {\r\n        notify({ type: 'WARNING', description: ERROR_CODES[(resp as any)?.data?.error_id] });\r\n    } else {\r\n        notify({ type: 'WARNING', description: 'lblAccountReactivated' });\r\n    }\r\n};\r\n\r\nexport const resetPassword = async (data: { email: string; confirmation_url: string }) => {\r\n    const resp = await ApiService<any>({ method: 'POST', url: 'user/password_reset', data });\r\n    if ((resp as any)?.data?.error_id && (resp as any)?.data?.error_id !== 0) {\r\n        notify({ type: 'WARNING', description: ERROR_CODES[(resp as any)?.data?.error_id] });\r\n    } else {\r\n        notify({ type: 'WARNING', description: 'lblPasswordResetMessage' });\r\n    }\r\n};\r\n","import { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useLogin } from './useLogin';\r\nimport './Login.css';\r\nimport { Button, Form } from 'antd';\r\nimport { Input } from '../../components/input';\r\nimport { Mail, Lock } from 'react-feather';\r\nimport { ImgLogin } from '../../assets';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal } from '../../components/modal';\r\n\r\nconst { Item } = Form;\r\n\r\nconst Login: FC = () => {\r\n    const {\r\n        onLogin,\r\n        openModalReactivateAccount,\r\n        closeModalReactivateAccount,\r\n        modalReactivateAccount,\r\n        onReactivateAccount,\r\n        openModalResetPassword,\r\n        closeModalResetPassword,\r\n        modalResetPassword,\r\n        onPasswordReset,\r\n    } = useLogin();\r\n    const { t } = useTranslation();\r\n    const isMobile = useIsMobile();\r\n    return (\r\n        <>\r\n            <div className=\"login\">\r\n                {!isMobile && (\r\n                    <div className=\"login__image\">\r\n                        <img src={ImgLogin} alt=\"Login img\" />\r\n                    </div>\r\n                )}\r\n                <div className=\"login__form\">\r\n                    <h4 className=\"login__form-title\">{t('lblLogin')}</h4>\r\n                    <p className=\"login__form-description\">{t('lblLoginDescription')}</p>\r\n                    <Form name=\"login-form\" onFinish={onLogin}>\r\n                        <Item name=\"email\">\r\n                            <Input\r\n                                type=\"email\"\r\n                                placeholder={t('lblEmail')}\r\n                                label={t('lblEmail')}\r\n                                labelClassName=\"login__form-input-label\"\r\n                                inputClassName=\"login__form-input\"\r\n                                Prefix={<Mail size={16} className=\"login__form-input-icon\" />}\r\n                            />\r\n                        </Item>\r\n                        <Item name=\"password\">\r\n                            <Input\r\n                                type=\"password\"\r\n                                placeholder={t('lblPassword')}\r\n                                label={t('lblPassword')}\r\n                                labelClassName=\"login__form-input-label\"\r\n                                inputClassName=\"login__form-input\"\r\n                                Prefix={<Lock size={16} className=\"login__form-input-icon\" />}\r\n                            />\r\n                        </Item>\r\n                        <div className=\"login__form-actions\">\r\n                            <span className=\"login__form-modal-action\" onClick={openModalReactivateAccount}>\r\n                                {t('lblReactivateQuestion')}\r\n                            </span>\r\n                            <span className=\"login__form-modal-action\" onClick={openModalResetPassword}>\r\n                                {t('lblForgotPassword')}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"login__form-actions login__form-actions-buttons\">\r\n                            <Link className=\"login__form-register\" to=\"/register\">\r\n                                {t('lblRegister')}\r\n                            </Link>\r\n                            <Button className=\"login__form-login\" htmlType=\"submit\">\r\n                                {t('lblLogin')}\r\n                            </Button>\r\n                        </div>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n            <Modal\r\n                title={t('lblReactivateAccount')}\r\n                visible={modalReactivateAccount}\r\n                cancelProps={{\r\n                    handleCancel: () => {\r\n                        closeModalReactivateAccount();\r\n                    },\r\n                    showAsButton: false,\r\n                }}\r\n                destroyOnClose\r\n            >\r\n                <Form name=\"reactivate-account\" onFinish={onReactivateAccount}>\r\n                    <Item name=\"email\" rules={[{ required: true, message: t('lblRequired') }]}>\r\n                        <Input\r\n                            type=\"email\"\r\n                            placeholder={t('lblEmail')}\r\n                            label={t('lblEmail')}\r\n                            labelClassName=\"login__form-input-label\"\r\n                            inputClassName=\"login__form-input\"\r\n                            Prefix={<Mail size={16} className=\"login__form-input-icon\" />}\r\n                        />\r\n                    </Item>\r\n                    <Item name=\"password\" rules={[{ required: true, message: t('lblRequired') }]}>\r\n                        <Input\r\n                            type=\"password\"\r\n                            placeholder={t('lblPassword')}\r\n                            label={t('lblPassword')}\r\n                            labelClassName=\"login__form-input-label\"\r\n                            inputClassName=\"login__form-input\"\r\n                            Prefix={<Lock size={16} className=\"login__form-input-icon\" />}\r\n                        />\r\n                    </Item>\r\n                    <Button className=\"login__form-login\" htmlType=\"submit\">\r\n                        {t('lblSend')}\r\n                    </Button>\r\n                </Form>\r\n            </Modal>\r\n            <Modal\r\n                title={t('lblResetPassword')}\r\n                visible={modalResetPassword}\r\n                cancelProps={{\r\n                    handleCancel: () => {\r\n                        closeModalResetPassword();\r\n                    },\r\n                    showAsButton: false,\r\n                }}\r\n                destroyOnClose\r\n            >\r\n                <Form name=\"reset-password\" onFinish={onPasswordReset}>\r\n                    <Item name=\"email\" rules={[{ required: true, message: t('lblRequired') }]}>\r\n                        <Input\r\n                            type=\"email\"\r\n                            placeholder={t('lblEmail')}\r\n                            label={t('lblEmail')}\r\n                            labelClassName=\"login__form-input-label\"\r\n                            inputClassName=\"login__form-input\"\r\n                            Prefix={<Mail size={16} className=\"login__form-input-icon\" />}\r\n                        />\r\n                    </Item>\r\n                    <Button className=\"login__form-login\" htmlType=\"submit\">\r\n                        {t('lblSend')}\r\n                    </Button>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import { useCallback, useState } from 'react';\r\nimport { getCultureDataOnLogin } from '../../api/cultureData';\r\nimport { login, reactivateAccount, resetPassword } from '../../api/login';\r\nimport { getPrivacyOnLogin } from '../../api/privacy';\r\nimport { useAppDispatch } from '../../redux/hooks';\r\nimport { fetchOrgs } from '../../redux/reducers/organizationsReducer';\r\nimport { setData } from '../../redux/reducers/userReducer';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\nexport const useLogin = () => {\r\n    const [modalReactivateAccount, setModalReactivateAccount] = useState<boolean>(false);\r\n\r\n    const openModalReactivateAccount = useCallback(() => {\r\n        setModalReactivateAccount(true);\r\n    }, []);\r\n    const closeModalReactivateAccount = useCallback(() => {\r\n        setModalReactivateAccount(false);\r\n    }, []);\r\n\r\n    const [modalResetPassword, setModalResetPassword] = useState<boolean>(false);\r\n\r\n    const openModalResetPassword = useCallback(() => {\r\n        setModalResetPassword(true);\r\n    }, []);\r\n    const closeModalResetPassword = useCallback(() => {\r\n        setModalResetPassword(false);\r\n    }, []);\r\n\r\n    const dispatch = useAppDispatch();\r\n    const { goTo } = useAppHistory();\r\n    const onLogin = useCallback(\r\n        async (values: any) => {\r\n            const response = await login(values);\r\n            const {\r\n                data: { error_id, items },\r\n                headers,\r\n            } = response;\r\n            if (error_id !== 0) {\r\n                // TODO\r\n            } else {\r\n                const token = headers['iss_authentication_token'];\r\n                const cultureDataResponse = await getCultureDataOnLogin(token);\r\n                const privacyResponse = await getPrivacyOnLogin(token);\r\n                const data: any = {\r\n                    data: items[0],\r\n                    token,\r\n                };\r\n                if (cultureDataResponse.data.items.length !== 0) {\r\n                    data.cultureData = cultureDataResponse.data.items[0];\r\n                }\r\n                if (privacyResponse.data.items.length !== 0) {\r\n                    data.privacy = privacyResponse.data.items[0];\r\n                }\r\n\r\n                dispatch(setData(data));\r\n                dispatch(fetchOrgs());\r\n                goTo('/', false, {});\r\n            }\r\n        },\r\n        [dispatch, goTo]\r\n    );\r\n\r\n    const onReactivateAccount = useCallback(async (values: any) => {\r\n        reactivateAccount(values);\r\n    }, []);\r\n\r\n    const onPasswordReset = useCallback(async (values: any) => {\r\n        resetPassword({ ...values, confirmation_url: `${window.location.origin}/password-reset` });\r\n    }, []);\r\n\r\n    return {\r\n        onLogin,\r\n        openModalReactivateAccount,\r\n        closeModalReactivateAccount,\r\n        modalReactivateAccount,\r\n        onReactivateAccount,\r\n        openModalResetPassword,\r\n        closeModalResetPassword,\r\n        modalResetPassword,\r\n        onPasswordReset,\r\n    };\r\n};\r\n"],"sourceRoot":""}