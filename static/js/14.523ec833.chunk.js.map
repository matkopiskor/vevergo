{"version":3,"sources":["components/input/Input.tsx","../node_modules/react-feather/dist/icons/mail.js","api/login.ts","../node_modules/react-feather/dist/icons/lock.js","pages/login/Login.tsx","pages/login/useLogin.ts"],"names":["Input","label","onChange","value","placeholder","type","name","labelClassName","inputClassName","Prefix","disabled","className","prefix","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Mail","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","points","propTypes","PropTypes","string","oneOfType","number","displayName","login","params","a","headers","iss_email","email","iss_password","password","ApiService","Lock","x","y","rx","ry","Item","Form","Login","onLogin","dispatch","useAppDispatch","goTo","useAppHistory","useCallback","values","response","data","error_id","items","token","getCultureDataOnLogin","cultureDataResponse","getPrivacyOnLogin","privacyResponse","cultureData","privacy","setData","useLogin","t","useTranslation","src","ImgLogin","alt","onFinish","href","htmlType"],"mappings":"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","file":"static/js/14.523ec833.chunk.js","sourcesContent":["import { ChangeEventHandler, FC } from 'react';\r\nimport { Input as AntInput } from 'antd';\r\n\r\nimport './Input.css';\r\n\r\ninterface Props {\r\n    label?: string;\r\n    onChange?: ChangeEventHandler<HTMLInputElement>;\r\n    value?: string | number | undefined;\r\n    placeholder?: string;\r\n    type?: string;\r\n    name?: string;\r\n    labelClassName?: string;\r\n    inputClassName?: string;\r\n    Prefix?: JSX.Element;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport const Input: FC<Props> = ({\r\n    label,\r\n    onChange,\r\n    value,\r\n    placeholder,\r\n    type = 'text',\r\n    name,\r\n    labelClassName = '',\r\n    inputClassName = '',\r\n    Prefix,\r\n    disabled,\r\n}) => {\r\n    return (\r\n        <div className=\"input__wrapper\">\r\n            <label className={`input__label ${labelClassName}`}>{label}</label>\r\n            <AntInput\r\n                type={type}\r\n                className={`input__select ${inputClassName}`}\r\n                onChange={onChange}\r\n                value={value}\r\n                placeholder={placeholder}\r\n                name={name}\r\n                prefix={Prefix}\r\n                disabled={disabled}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Mail = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"22,6 12,13 2,6\"\n  }));\n});\nMail.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMail.displayName = 'Mail';\nexport default Mail;","import { ApiService } from '.';\r\n\r\ninterface ILoginParams {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nexport const login = async (params: ILoginParams) => {\r\n    const headers = {\r\n        iss_email: params.email,\r\n        iss_password: params.password,\r\n    };\r\n\r\n    return ApiService<any>('GET', 'user/login', null, null, headers);\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Lock = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"3\",\n    y: \"11\",\n    width: \"18\",\n    height: \"11\",\n    rx: \"2\",\n    ry: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n  }));\n});\nLock.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nLock.displayName = 'Lock';\nexport default Lock;","import { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useLogin } from './useLogin';\r\nimport './Login.css';\r\nimport { Button, Form } from 'antd';\r\nimport { Input } from '../../components/input';\r\nimport { Mail, Lock } from 'react-feather';\r\nimport { ImgLogin } from '../../assets';\r\n\r\nconst { Item } = Form;\r\n\r\nconst Login: FC = () => {\r\n    const { onLogin } = useLogin();\r\n    const { t } = useTranslation();\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login__image\">\r\n                <img src={ImgLogin} alt=\"Login img\" />\r\n            </div>\r\n            <div className=\"login__form\">\r\n                <h4 className=\"login__form-title\">{t('lblLogin')}</h4>\r\n                <p className=\"login__form-description\">{t('lblLoginDescription')}</p>\r\n                <Form name=\"login-form\" onFinish={onLogin}>\r\n                    <Item name=\"email\">\r\n                        <Input\r\n                            type=\"email\"\r\n                            placeholder={t('lblEmail')}\r\n                            label={t('lblEmail')}\r\n                            labelClassName=\"login__form-input-label\"\r\n                            inputClassName=\"login__form-input\"\r\n                            Prefix={<Mail size={16} className=\"login__form-input-icon\" />}\r\n                        />\r\n                    </Item>\r\n                    <Item name=\"password\">\r\n                        <Input\r\n                            type=\"password\"\r\n                            placeholder={t('lblPassword')}\r\n                            label={t('lblPassword')}\r\n                            labelClassName=\"login__form-input-label\"\r\n                            inputClassName=\"login__form-input\"\r\n                            Prefix={<Lock size={16} className=\"login__form-input-icon\" />}\r\n                        />\r\n                    </Item>\r\n                    <div className=\"login__form-actions\">\r\n                        <span className=\"login__form-modal-action\">{t('lblReactivateQuestion')}</span>\r\n                        <a href=\"/register\" className=\"login__form-modal-action\">\r\n                            {t('lblForgotPassword')}\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"login__form-actions\">\r\n                        <Button className=\"login__form-register\" htmlType=\"button\">\r\n                            {t('lblRegister')}\r\n                        </Button>\r\n                        <Button className=\"login__form-login\" htmlType=\"submit\">\r\n                            {t('lblLogin')}\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import { useCallback } from 'react';\r\nimport { getCultureDataOnLogin } from '../../api/cultureData';\r\nimport { login } from '../../api/login';\r\nimport { getPrivacyOnLogin } from '../../api/privacy';\r\nimport { useAppDispatch } from '../../redux/hooks';\r\nimport { setData } from '../../redux/reducers/userReducer';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\nexport const useLogin = () => {\r\n    const dispatch = useAppDispatch();\r\n    const { goTo } = useAppHistory();\r\n    const onLogin = useCallback(\r\n        async (values: any) => {\r\n            const response = await login(values);\r\n            const {\r\n                data: { error_id, items },\r\n                headers,\r\n            } = response;\r\n            if (error_id !== 0) {\r\n                // TODO\r\n            } else {\r\n                const token = headers['iss_authentication_token'];\r\n                const cultureDataResponse = await getCultureDataOnLogin(token);\r\n                const privacyResponse = await getPrivacyOnLogin(token);\r\n                const data: any = {\r\n                    data: items[0],\r\n                    token,\r\n                };\r\n                if (cultureDataResponse.data.items.length !== 0) {\r\n                    data.cultureData = cultureDataResponse.data.items[0];\r\n                }\r\n                if (privacyResponse.data.items.length !== 0) {\r\n                    data.privacy = privacyResponse.data.items[0];\r\n                }\r\n\r\n                dispatch(setData(data));\r\n                goTo('/', false, {});\r\n            }\r\n        },\r\n        [dispatch, goTo]\r\n    );\r\n    return { onLogin };\r\n};\r\n"],"sourceRoot":""}