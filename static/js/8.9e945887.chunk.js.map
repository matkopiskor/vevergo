{"version":3,"sources":["components/input/Input.tsx","components/select/Select.tsx","constants/imageBaseUrl.ts","assets/img/jpg.png","api/itemMedia.ts","utils/findSelectedIds.ts","utils/findSelectedNames.ts","components/breadcrumbs/Breadcrumbs.tsx","components/breadcrumbs/useBreadcrumbs.ts","modals/components/section/ModalSection.tsx","components/slider/Slider.tsx","components/switch/Switch.tsx","components/category-filters/CFForm.tsx","api/categoryAttributes.ts","api/categoryMeasurementUnits.ts","components/category-filters/useCategoryFilters.ts","components/category-filters/CategoryFilters.tsx","components/change-list-grid-view/ChangeListGridView.tsx","components/change-list-grid-view/useChangeListGridView.ts","utils/findUrlCategories.ts","utils/createAdUrl.ts","utils/prepareCategoriesForUrl.ts","components/grid-item/useGridItem.ts","utils/createImageUrlByMediaType.ts","components/content-image-view/useContentImageView.ts","utils/createImageUrl.ts","components/content-image-view/ContentImageView.tsx","components/grid-item/GridItem.tsx","components/grid-items/GridItems.tsx","components/list-item/useListItem.ts","components/list-item/ListItem.tsx","components/list-items/ListItems.tsx","components/category-icon/CategoryIcon.tsx","components/sidebar/Sidebar.tsx","components/sidebar/useSidebar.ts","constants/sortByOptions.ts","components/sort-by/SortBy.tsx","components/sort-by/useSortBy.ts","api/mainPageItems.ts","pages/home/Home.tsx","pages/home/useHome.ts"],"names":["Input","label","onChange","value","placeholder","type","name","labelClassName","inputClassName","Prefix","disabled","className","prefix","Option","AntSelect","Select","options","mode","allowClear","map","imageBaseUrl","profileImageBaseUrl","getItemMedia","itemId","a","ApiService","findSelectedIds","data","target","memo","recr","item","id","children","push","flag","forEach","c","reverse","findSelectedNames","Breadcrumbs","useAppHistory","goTo","state","path","categoryTree","useAppSelector","tree","sidebarFilters","onBreadcrumbClick","useCallback","selectedIds","breadcrumbs","useMemo","length","names","idx","useBreadcrumbs","src","style","display","alignItems","onClick","size","Panel","Collapse","ModalSection","title","defaultOpen","defaultActiveKey","ghost","header","Slider","min","max","suffix","tooltipVisible","Switch","checked","FormCol","xl","lg","sm","xs","Item","Form","CFForm","open","applyFilters","setOpen","activeAttributes","initialValues","useForm","form","listingTypes","list","listingTypesOptions","toString","countries","countryOptions","useState","fromToError","setFromToError","onValuesChange","values","allValues","price_from","price_to","visible","onOk","getFieldsValue","onCancel","width","gutter","span","validateStatus","undefined","Object","keys","key","attr","items","dataType","e","attributeId","filterMaximum","filterStep","i","Number","filterMinimum","measurementUnits","val","getCategoryAttributes","category","url","getCategoryMeasurementUnits","useCategoryFilters","setActiveAttributes","activeCategory","commonFilters","filters","include_items_without_price","owner_type","include_items_with_media","useEffect","categoryAttributes","attributes","attrs","reduce","index","console","log","attribute_id","childAttributeId","child_attribute_id","parentAttributeId","parent_attribute_id","filter_minimum","filter_maximum","filter_step","data_type","measurement_units","elem","measurement_unit_id","default","attribute_values","attribute_value_id","group_id","group_name","fetch","categoryMeasurementUnitOptions","setCategoryMeasurementUnitOptions","response","units","commonFiltersData","listing_type","country","place","parseCommonFilters","CategoryFilters","ChangeListGridView","dispatch","useAppDispatch","view","homeView","active","setActiveView","setActive","useChangeListGridView","findUrlCategories","createAdUrl","categories","preparedCategories","toLowerCase","trim","split","join","prepareCategoriesForUrl","encodedTitle","encodeURI","replaceAll","createPriorityAttributesStr","attribute","value_formatted","measurement_unit_name","additional_measurement_units","getValueAndUnit","unit","s","isMetricSystem","find","metric_system","createDescription","description","container","document","createElement","innerHTML","elements","childNodes","textElements","element","text","tagName","innerElements","innerTextElements","innerElement","innerText","textContent","createImageUrlByMediaType","mediaType","videoCode","useContentImageView","defaultImage","defaultImgUrl","DefaultImage","createImageUrl","alt","availableImages","setAvailableImages","error_id","images","defaultImg","media_type","video_code","getMedia","ContentImageView","MultiImageView","currentIdx","setCurrentIdx","setClassName","onNext","nextIdx","onPrev","prevIdx","useMultiImageView","preventDefault","userCurrencyName","GridItem","t","useTranslation","country_name","listing_type_name","default_image","currency_name","price_formatted","converted_price_formatted","price_by_agreement","owner_nickname","owner_name","create_date_formatted","view_count","adUrl","placeText","filter","Boolean","priorityAttributes","itemDescription","trimmedItemDescription","substring","useGridItem","to","GridItems","ListItem","useListItem","ListItems","CategoryIcon","iconSize","itemIcon","Sidebar","isMobile","useIsMobile","sidebarState","sidebar","mobileOpen","appliedFilters","setMobileOpen","selected","setSelected","docked","onDockedClick","toggleDocked","onSidebarMouseEnter","onSidebarMouseLeave","sidebarClassName","createSidebarItem","icon","is_last","child","includes","sidebarTree","onItemClick","obj","acc","sId","isFound","sIds","onFilterClick","onSwipe","toggleMobileOpen","isHome","body","overflow","useSidebar","onMouseEnter","onMouseLeave","first","SidebarItem","sortByOptions","orderType","orderItem","SortBy","sortValueId","sortValue","currRef","useRef","toggleOpen","forceClose","setActiveSort","sortBy","useOutsideClickListener","setSort","useSortBy","ref","stopPropagation","OpenArrow","ClosedArrow","getMainPageItems","params","start","searchText","currency","headers","getAcceptLanguageHeaders","inputParams","method","Home","mainPageFilter","activeView","currencies","setStart","setItems","totalCount","setTotalCount","cf","getNextItems","elems","concat","error","total","total_count","getItems","homeClassName","useHome","dataLength","next","hasMore","loader"],"mappings":"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","file":"static/js/8.9e945887.chunk.js","sourcesContent":["import { ChangeEventHandler, FC } from 'react';\r\nimport { Input as AntInput } from 'antd';\r\n\r\nimport './Input.css';\r\n\r\ninterface Props {\r\n    label?: string;\r\n    onChange?: ChangeEventHandler<HTMLInputElement>;\r\n    value?: string | number | undefined;\r\n    placeholder?: string;\r\n    type?: string;\r\n    name?: string;\r\n    labelClassName?: string;\r\n    inputClassName?: string;\r\n    Prefix?: JSX.Element;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport const Input: FC<Props> = ({\r\n    label,\r\n    onChange,\r\n    value,\r\n    placeholder,\r\n    type = 'text',\r\n    name,\r\n    labelClassName = '',\r\n    inputClassName = '',\r\n    Prefix,\r\n    disabled,\r\n}) => {\r\n    return (\r\n        <div className=\"input__wrapper\">\r\n            <label className={`input__label ${labelClassName}`}>{label}</label>\r\n            <AntInput\r\n                type={type}\r\n                className={`input__select ${inputClassName}`}\r\n                onChange={onChange}\r\n                value={value}\r\n                placeholder={placeholder}\r\n                name={name}\r\n                prefix={Prefix}\r\n                disabled={disabled}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { Select as AntSelect } from 'antd';\r\nimport { SelectValue } from 'antd/lib/select';\r\n\r\nimport './Select.css';\r\nimport { Option as OptionModel } from '../../models/Option';\r\n\r\nconst { Option } = AntSelect;\r\n\r\ninterface Props {\r\n    options: OptionModel[];\r\n    onChange?: (value: SelectValue) => void;\r\n    value?: SelectValue;\r\n    placeholder?: string;\r\n    label?: string;\r\n    mode?: 'multiple' | 'tags';\r\n    disabled?: boolean;\r\n}\r\n\r\nexport const Select: FC<Props> = ({ options, onChange, value, placeholder, label, mode, disabled }) => {\r\n    return (\r\n        <div className=\"single-select__wrapper\">\r\n            <label className=\"single-select__label\">{label}</label>\r\n            <AntSelect\r\n                className=\"single-select__select\"\r\n                onChange={onChange}\r\n                value={value}\r\n                placeholder={placeholder}\r\n                allowClear\r\n                mode={mode}\r\n                disabled={disabled}\r\n            >\r\n                {options.map(({ label, value }) => {\r\n                    return (\r\n                        <Option key={value} value={value}>\r\n                            {label}\r\n                        </Option>\r\n                    );\r\n                })}\r\n            </AntSelect>\r\n        </div>\r\n    );\r\n};\r\n","export const imageBaseUrl = 'https://api.vevergo.com:4443/item_adjusted_images/';\r\nexport const profileImageBaseUrl = 'https://api.vevergo.com:4443/profile_adjusted_images/';\r\n","export default \"data:image/png;base64,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\"","import { ApiService } from '.';\r\n\r\nexport const getItemMedia = async (itemId: string) => {\r\n    return ApiService<any>('GET', `/view/item_listing/${itemId}/media`);\r\n};\r\n","export const findSelectedIds = (data: any[], target: number) => {\r\n    const memo: any[] = [];\r\n    const recr = (item: any, target: number) => {\r\n        const { id, children } = item;\r\n        if (id === target) {\r\n            memo.push(id);\r\n            return true;\r\n        }\r\n        let flag = false;\r\n        children.forEach((c: any) => {\r\n            if (recr(c, target)) {\r\n                flag = true;\r\n            }\r\n        });\r\n        if (flag) {\r\n            memo.push(id);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    data.forEach((item) => {\r\n        recr(item, target);\r\n    });\r\n    return memo.reverse();\r\n};\r\n","export const findSelectedNames = (data: any[], target: number) => {\r\n    const memo: any[] = [];\r\n    const recr = (item: any, target: number) => {\r\n        const { id, name, children } = item;\r\n        if (id === target) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        let flag = false;\r\n        children.forEach((c: any) => {\r\n            if (recr(c, target)) {\r\n                flag = true;\r\n            }\r\n        });\r\n        if (flag) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    data.forEach((item) => {\r\n        recr(item, target);\r\n    });\r\n    return memo.reverse();\r\n};\r\n","import { FC } from 'react';\r\nimport { ChevronsRight } from 'react-feather';\r\n\r\nimport './Breadcrumbs.css';\r\nimport { useBreadcrumbs } from './useBreadcrumbs';\r\n\r\nexport const Breadcrumbs: FC = () => {\r\n    const { breadcrumbs, onBreadcrumbClick } = useBreadcrumbs();\r\n    if (breadcrumbs.length === 0) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div className='breadcrumbs'>\r\n            {breadcrumbs.map(({ id, name }, idx, src) => {\r\n                return (\r\n                    <div key={id + '_' + idx} style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <div className='breadcrumbs__item' onClick={() => onBreadcrumbClick(id)}>\r\n                            {name}\r\n                        </div>\r\n                        {idx !== src.length - 1 && <ChevronsRight size={14} />}\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n","import { useCallback, useMemo } from 'react';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { findSelectedIds } from '../../utils/findSelectedIds';\r\nimport { findSelectedNames } from '../../utils/findSelectedNames';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\nexport const useBreadcrumbs = () => {\r\n    const { goTo, state, path } = useAppHistory();\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n\r\n    const { sidebarFilters } = state ?? {};\r\n\r\n    const onBreadcrumbClick = useCallback(\r\n        (id: number) => {\r\n            const selectedIds = findSelectedIds(categoryTree, id);\r\n            goTo(path, false, { sidebarFilters: selectedIds });\r\n        },\r\n        [categoryTree, goTo, path]\r\n    );\r\n\r\n    const breadcrumbs: { id: number; name: string }[] = useMemo(() => {\r\n        if (!sidebarFilters || sidebarFilters.length === 0) {\r\n            return [];\r\n        }\r\n        const names = findSelectedNames(categoryTree, sidebarFilters[sidebarFilters.length - 1]);\r\n\r\n        return sidebarFilters.map((id: number, idx: number) => {\r\n            return {\r\n                id,\r\n                name: names[idx],\r\n            };\r\n        });\r\n    }, [categoryTree, sidebarFilters]);\r\n\r\n    return {\r\n        onBreadcrumbClick,\r\n        breadcrumbs,\r\n    };\r\n};\r\n","import { Collapse } from 'antd';\r\nimport { FC } from 'react';\r\n\r\nimport './ModalSection.css';\r\n\r\nconst { Panel } = Collapse;\r\n\r\ninterface Props {\r\n    title: string;\r\n    defaultOpen?: boolean;\r\n}\r\n\r\nexport const ModalSection: FC<Props> = ({ title, children, defaultOpen = false }) => {\r\n    return (\r\n        <div className=\"modal-section\">\r\n            <Collapse defaultActiveKey={!defaultOpen ? [] : ['1']} onChange={() => {}} ghost>\r\n                <Panel header={title} key=\"1\">\r\n                    {children}\r\n                </Panel>\r\n            </Collapse>\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { Slider as AntSlider } from 'antd';\r\n\r\nimport './Slider.css';\r\n\r\ninterface Props {\r\n    value?: number;\r\n    min: number;\r\n    max: number;\r\n    label?: string;\r\n    prefix?: string;\r\n    suffix?: string;\r\n    onChange?: any;\r\n}\r\n\r\nexport const Slider: FC<Props> = ({ label, value, min, max, suffix, prefix, onChange }) => {\r\n    return (\r\n        <div className=\"slider__wrapper\">\r\n            <label className=\"slider__label\">{label}</label>\r\n            <div className=\"slider__main\">\r\n                {prefix && <span className=\"slider__prefix\">{prefix}</span>}\r\n                <AntSlider\r\n                    className=\"slider__slider\"\r\n                    value={value}\r\n                    min={min}\r\n                    max={max}\r\n                    onChange={onChange}\r\n                    tooltipVisible={false}\r\n                />\r\n                {suffix && <span className=\"slider__prefix\">{suffix}</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { Switch as AntSwitch } from 'antd';\r\n\r\nimport './Switch.css';\r\nimport { SwitchChangeEventHandler } from 'antd/lib/switch';\r\n\r\ninterface Props {\r\n    label?: string;\r\n    onChange: SwitchChangeEventHandler;\r\n    checked: boolean;\r\n}\r\n\r\nexport const Switch: FC<Props> = ({ label, onChange, checked }) => {\r\n    return (\r\n        <div className=\"switch__wrapper\">\r\n            <label className=\"switch__label\">{label}</label>\r\n            <AntSwitch className=\"switch__select\" onChange={onChange} checked={checked} />\r\n        </div>\r\n    );\r\n};\r\n","import { Col, Form, Modal, Row } from 'antd';\r\nimport { useForm } from 'antd/lib/form/Form';\r\nimport { FC, useMemo, useState } from 'react';\r\nimport { ModalSection } from '../../modals/components/section';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { Select } from '../select';\r\nimport { Option } from '../../models/Option';\r\nimport { Input } from '../input';\r\nimport { Slider } from '../slider';\r\nimport { Switch } from '../switch';\r\n\r\nconst FormCol: FC = ({ children }) => {\r\n    return (\r\n        <Col xl={8} lg={8} sm={12} xs={24}>\r\n            {children}\r\n        </Col>\r\n    );\r\n};\r\n\r\nconst { Item } = Form;\r\n\r\nexport const CFForm: FC<any> = ({ open, applyFilters, setOpen, activeAttributes, initialValues }) => {\r\n    const [form] = useForm();\r\n    // LISTING TYPES\r\n    const listingTypes = useAppSelector((state) => state.listingTypes.list);\r\n    const listingTypesOptions = useMemo<Option[]>(\r\n        () =>\r\n            listingTypes.map(({ id, name }) => ({\r\n                value: id.toString(),\r\n                label: name,\r\n            })),\r\n        [listingTypes]\r\n    );\r\n\r\n    // Country\r\n    const countries = useAppSelector((state) => state.countries.list);\r\n    const countryOptions = useMemo<Option[]>(\r\n        () =>\r\n            countries.map(({ id, name }) => ({\r\n                value: id.toString(),\r\n                label: name,\r\n            })),\r\n        [countries]\r\n    );\r\n\r\n    const [fromToError, setFromToError] = useState<boolean>(false);\r\n\r\n    const onFormChange = (values: any, allValues: any) => {\r\n        if (values?.price_from && allValues?.price_to) {\r\n            if (values.price_from >= allValues.price_to) {\r\n                setFromToError(true);\r\n            } else {\r\n                setFromToError(false);\r\n            }\r\n        }\r\n        if (values?.price_to && allValues?.price_from) {\r\n            if (values.price_to <= allValues.price_from) {\r\n                setFromToError(true);\r\n            } else {\r\n                setFromToError(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Form form={form} name=\"common-filters\" onValuesChange={onFormChange} initialValues={initialValues}>\r\n            <Modal\r\n                title=\"Filers\"\r\n                visible={open}\r\n                onOk={() => {\r\n                    const values = form.getFieldsValue();\r\n                    applyFilters(values);\r\n                }}\r\n                onCancel={() => setOpen(false)}\r\n                width=\"100%\"\r\n            >\r\n                <ModalSection title=\"Type, Price & Place\" defaultOpen>\r\n                    <Row gutter={[20, 20]}>\r\n                        <FormCol>\r\n                            <Item name=\"listing_type\">\r\n                                <Select\r\n                                    label=\"Ad type\"\r\n                                    options={listingTypesOptions}\r\n                                    placeholder=\"Select...\"\r\n                                    mode=\"tags\"\r\n                                />\r\n                            </Item>\r\n                        </FormCol>\r\n                        <FormCol>\r\n                            <Row gutter={[20, 0]}>\r\n                                <Col span={12}>\r\n                                    <Item name=\"price_from\" validateStatus={fromToError ? 'error' : undefined}>\r\n                                        <Input label=\"Price/Type\" placeholder=\"From\" type=\"number\" />\r\n                                    </Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Item name=\"price_to\" validateStatus={fromToError ? 'error' : undefined}>\r\n                                        <Input placeholder=\"To\" type=\"number\" />\r\n                                    </Item>\r\n                                </Col>\r\n                                {/* {!!categoryMeasurementUnitOptions && categoryMeasurementUnitOptions.length !== 0 && (\r\n                        <Col span={8}>\r\n                            <Select\r\n                                options={categoryMeasurementUnitOptions}\r\n                                value={selectedCategoryMeasurementUnit}\r\n                                onChange={(val) => setSelectedCategoryMeasurementUnit(val as string)}\r\n                                placeholder=\"Select...\"\r\n                            />\r\n                        </Col>\r\n                    )} */}\r\n                            </Row>\r\n                        </FormCol>\r\n                        <FormCol>\r\n                            <Item name=\"include_items_without_price\">\r\n                                <Slider min={0} max={2} label=\"Includes ads without price\" prefix=\"Yes\" suffix=\"No\" />\r\n                            </Item>\r\n                        </FormCol>\r\n                        <FormCol>\r\n                            <Item name=\"country\">\r\n                                <Select label=\"Country\" options={countryOptions} placeholder=\"Select...\" mode=\"tags\" />\r\n                            </Item>\r\n                        </FormCol>\r\n                        <FormCol>\r\n                            <Item name=\"place\">\r\n                                <Input label=\"Ad place\" placeholder=\"Enter...\" />\r\n                            </Item>\r\n                        </FormCol>\r\n                        <FormCol>\r\n                            <Item name=\"owner_type\">\r\n                                <Slider\r\n                                    min={0}\r\n                                    max={2}\r\n                                    label=\"Published by\"\r\n                                    prefix=\"Individual\"\r\n                                    suffix=\"Organization\"\r\n                                />\r\n                            </Item>\r\n                        </FormCol>\r\n                        <Col xl={8} sm={24}>\r\n                            <Item name=\"include_items_with_media\">\r\n                                <Slider min={0} max={1} label=\"Includes ads without media\" prefix=\"No\" suffix=\"Yes\" />\r\n                            </Item>\r\n                        </Col>\r\n                    </Row>\r\n                </ModalSection>\r\n                {!!activeAttributes &&\r\n                    Object.keys(activeAttributes).map((key) => {\r\n                        const attr = activeAttributes[key];\r\n                        return (\r\n                            <ModalSection key={key} title={attr.name}>\r\n                                <Row gutter={[20, 20]}>\r\n                                    {attr.items.map((item: any) => {\r\n                                        switch (item.dataType) {\r\n                                            case 1: {\r\n                                                return (\r\n                                                    <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                        <Input\r\n                                                            label={item.name}\r\n                                                            value={''}\r\n                                                            onChange={(e) => {}}\r\n                                                            placeholder=\"Enter...\"\r\n                                                            name={item.attributeId.toString()}\r\n                                                        />\r\n                                                    </Col>\r\n                                                );\r\n                                            }\r\n                                            case 2:\r\n                                            case 3: {\r\n                                                if (!!item.filterMaximum && !!item.filterMaximum && !!item.filterStep) {\r\n                                                    const data: any[] = [];\r\n                                                    for (\r\n                                                        let i = Number(item.filterMinimum);\r\n                                                        i <= Number(item.filterMaximum);\r\n                                                        i += Number(item.filterStep)\r\n                                                    ) {\r\n                                                        data.push({ value: i.toString(), label: i.toString() });\r\n                                                    }\r\n                                                    if (!!item.measurementUnits && item.measurementUnits.length !== 0) {\r\n                                                        return (\r\n                                                            <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                                <Row gutter={[20, 0]}>\r\n                                                                    <Col span={16}>\r\n                                                                        <Select\r\n                                                                            label={item.name}\r\n                                                                            options={data}\r\n                                                                            value={undefined}\r\n                                                                            onChange={(val) => {}}\r\n                                                                            placeholder=\"Select...\"\r\n                                                                        />\r\n                                                                    </Col>\r\n                                                                    <Col span={8}>\r\n                                                                        <Select\r\n                                                                            options={item.measurementUnits}\r\n                                                                            value={undefined}\r\n                                                                            onChange={(val) => {}}\r\n                                                                            placeholder=\"Select...\"\r\n                                                                        />\r\n                                                                    </Col>\r\n                                                                </Row>\r\n                                                            </Col>\r\n                                                        );\r\n                                                    }\r\n                                                    return (\r\n                                                        <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                            <Select\r\n                                                                label={item.name}\r\n                                                                options={data}\r\n                                                                value={undefined}\r\n                                                                onChange={(val) => {}}\r\n                                                                placeholder=\"Select...\"\r\n                                                            />\r\n                                                        </Col>\r\n                                                    );\r\n                                                }\r\n                                                if (!!item.measurementUnits && item.measurementUnits.length !== 0) {\r\n                                                    return (\r\n                                                        <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                            <Row gutter={[20, 0]}>\r\n                                                                <Col span={16}>\r\n                                                                    <Input\r\n                                                                        label={item.name}\r\n                                                                        value={''}\r\n                                                                        onChange={(e) => {}}\r\n                                                                        placeholder=\"Enter...\"\r\n                                                                        name={item.attributeId.toString()}\r\n                                                                        type=\"number\"\r\n                                                                    />\r\n                                                                </Col>\r\n                                                                <Col span={8}>\r\n                                                                    <Select\r\n                                                                        options={item.measurementUnits}\r\n                                                                        value={undefined}\r\n                                                                        onChange={(val) => {}}\r\n                                                                        placeholder=\"Select...\"\r\n                                                                    />\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                        </Col>\r\n                                                    );\r\n                                                }\r\n                                                return (\r\n                                                    <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                        <Input\r\n                                                            type=\"number\"\r\n                                                            label={item.name}\r\n                                                            value={''}\r\n                                                            onChange={(e) => {}}\r\n                                                            placeholder=\"Enter...\"\r\n                                                            name={item.attributeId.toString()}\r\n                                                        />\r\n                                                    </Col>\r\n                                                );\r\n                                            }\r\n                                            case 4: {\r\n                                                return 'Date';\r\n                                            }\r\n                                            case 5: {\r\n                                                return 'date time';\r\n                                            }\r\n                                            case 6: {\r\n                                                return (\r\n                                                    <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                        <Switch label={item.name} checked={false} onChange={() => {}} />\r\n                                                    </Col>\r\n                                                );\r\n                                            }\r\n                                            case 7: {\r\n                                                return (\r\n                                                    <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                        <Select\r\n                                                            label={item.name}\r\n                                                            options={item.values}\r\n                                                            value={undefined}\r\n                                                            onChange={(val) => {}}\r\n                                                            placeholder=\"Select...\"\r\n                                                        />\r\n                                                    </Col>\r\n                                                );\r\n                                            }\r\n                                            case 8: {\r\n                                                return (\r\n                                                    <Col key={item.attributeId} xl={8} sm={24}>\r\n                                                        <Select\r\n                                                            label={item.name}\r\n                                                            options={item.values}\r\n                                                            value={undefined}\r\n                                                            onChange={(val) => {}}\r\n                                                            placeholder=\"Select...\"\r\n                                                            mode=\"multiple\"\r\n                                                        />\r\n                                                    </Col>\r\n                                                );\r\n                                            }\r\n                                            default: {\r\n                                                return null;\r\n                                            }\r\n                                        }\r\n                                    })}\r\n                                    {/* <Col xl={8} sm={24}>\r\n                            <Select\r\n                                label=\"Ad type\"\r\n                                options={listingTypesOptions}\r\n                                value={selectedListingTypeOption}\r\n                                onChange={(val) => setSelectedListingTypeOptions(val as string[])}\r\n                                placeholder=\"Select...\"\r\n                                mode=\"tags\"\r\n                            />\r\n                        </Col> */}\r\n                                </Row>\r\n                            </ModalSection>\r\n                        );\r\n                    })}\r\n            </Modal>\r\n        </Form>\r\n    );\r\n};\r\n","import { ApiService } from '.';\r\n\r\nexport const getCategoryAttributes = async (category: number) => {\r\n    const url = `category/${category}/attributes`;\r\n    return ApiService<any>('GET', url);\r\n};\r\n","import { ApiService } from '.';\r\n\r\nexport const getCategoryMeasurementUnits = async (category: number) => {\r\n    const url = 'category_measurement_units/' + category;\r\n    return ApiService<any>('GET', url);\r\n};\r\n","import { useEffect, useMemo, useState } from 'react';\r\nimport { getCategoryAttributes } from '../../api/categoryAttributes';\r\nimport { getCategoryMeasurementUnits } from '../../api/categoryMeasurementUnits';\r\nimport { Option } from '../../models/Option';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\ninterface IActiveCategories {\r\n    [key: string]: {\r\n        name: string;\r\n        items: {\r\n            attributeId: number;\r\n            name: string;\r\n            childAttributeId?: number;\r\n            parentAttributeId?: number;\r\n            filterMinimum?: number;\r\n            filterMaximum?: number;\r\n            filterStep?: number;\r\n            measurementUnits: any[];\r\n            dataType: number;\r\n            values: Option[];\r\n        }[];\r\n    };\r\n}\r\n\r\nexport const useCategoryFilters = () => {\r\n    const { state, goTo, path } = useAppHistory();\r\n    const [open, setOpen] = useState<boolean>(false);\r\n    const [activeAttributes, setActiveAttributes] = useState<IActiveCategories>();\r\n\r\n    const activeCategory = useMemo(() => {\r\n        if ((state?.sidebarFilters ?? []).length === 0) {\r\n            return undefined;\r\n        }\r\n        return state.sidebarFilters[state.sidebarFilters.length - 1];\r\n    }, [state?.sidebarFilters]);\r\n\r\n    const commonFilters = useMemo(() => {\r\n        let filters: any = { include_items_without_price: 1, owner_type: 1, include_items_with_media: 1 };\r\n        if (state?.commonFilters) {\r\n            filters = { ...filters, ...state.commonFilters };\r\n        }\r\n        return filters;\r\n    }, [state?.commonFilters]);\r\n\r\n    // useEffect(() => {\r\n    //     form.resetFields();\r\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // }, [commonFilters]);\r\n\r\n    useEffect(() => {\r\n        const fetch = async () => {\r\n            const categoryAttributes = await getCategoryAttributes(Number(activeCategory));\r\n            const attributes: any[] = categoryAttributes.data.items;\r\n            const attrs = attributes.reduce<IActiveCategories>((memo, attr, index) => {\r\n                if (attr.name === 'Production year') {\r\n                    console.log(attr);\r\n                }\r\n                const item = {\r\n                    attributeId: attr.attribute_id,\r\n                    name: attr.name,\r\n                    childAttributeId: attr.child_attribute_id,\r\n                    parentAttributeId: attr.parent_attribute_id,\r\n                    filterMinimum: attr.filter_minimum,\r\n                    filterMaximum: attr.filter_maximum,\r\n                    filterStep: attr.filter_step,\r\n                    dataType: attr.data_type,\r\n                    measurementUnits: attr.measurement_units.map((elem: any) => {\r\n                        return {\r\n                            value: elem.measurement_unit_id.toString(),\r\n                            label: elem.name,\r\n                            default: elem.default,\r\n                        };\r\n                    }),\r\n                    values: (attr.attribute_values ?? []).map((elem: any) => ({\r\n                        value: elem.attribute_value_id.toString(),\r\n                        label: elem.name,\r\n                    })),\r\n                };\r\n                if (!memo[attr.group_id.toString()]) {\r\n                    memo[attr.group_id.toString()] = {\r\n                        name: attr.group_name,\r\n                        items: [item],\r\n                    };\r\n                } else {\r\n                    memo[attr.group_id.toString()].items.push(item);\r\n                }\r\n                return memo;\r\n            }, {});\r\n            setActiveAttributes(attrs);\r\n        };\r\n        if (!!activeCategory) {\r\n            fetch();\r\n        } else {\r\n            setActiveAttributes(undefined);\r\n        }\r\n    }, [activeCategory]);\r\n\r\n    // // RESET\r\n    // const reset = useCallback(() => {\r\n    //     form.resetFields();\r\n    // }, [form]);\r\n\r\n    // useEffect(() => {\r\n    //     if (!open) {\r\n    //         reset();\r\n    //     }\r\n    // }, [open, reset]);\r\n\r\n    // category measurement units\r\n    const [categoryMeasurementUnitOptions, setCategoryMeasurementUnitOptions] = useState<Option[] | undefined>();\r\n    useEffect(() => {\r\n        if (!activeCategory) {\r\n            setCategoryMeasurementUnitOptions(undefined);\r\n            return;\r\n        }\r\n        const fetch = async () => {\r\n            const response: any = await getCategoryMeasurementUnits(activeCategory);\r\n            const units = response.data.items.map(({ id, name }: any) => ({ value: id.toString(), label: name }));\r\n            setCategoryMeasurementUnitOptions(units);\r\n        };\r\n        fetch();\r\n    }, [activeCategory]);\r\n\r\n    const parseCommonFilters = (values: any) => {\r\n        console.log(values);\r\n        const commonFilters: any = {};\r\n        if (values?.listing_type && values?.listing_type?.length !== 0) {\r\n            commonFilters.listing_type = values?.listing_type;\r\n        }\r\n        if (values?.price_from) {\r\n            commonFilters.price_from = values?.price_from;\r\n        }\r\n        if (values?.price_to) {\r\n            commonFilters.price_to = values?.price_to;\r\n        }\r\n        if (values.include_items_without_price !== 1) {\r\n            commonFilters.include_items_without_price = values?.include_items_without_price;\r\n        }\r\n        if (values?.country && values?.country?.length !== 0) {\r\n            commonFilters.country = values?.country;\r\n        }\r\n        if (values?.place) {\r\n            commonFilters.place = values?.place;\r\n        }\r\n        if (values?.owner_type === 0) {\r\n            commonFilters.owner_type = 0;\r\n        }\r\n        if (values?.owner_type === 2) {\r\n            commonFilters.owner_type = 2;\r\n        }\r\n        if (values?.include_items_with_media === 0) {\r\n            commonFilters.include_items_with_media = false;\r\n        }\r\n        if (values?.include_items_with_media === 1) {\r\n            commonFilters.include_items_with_media = true;\r\n        }\r\n        return commonFilters;\r\n    };\r\n\r\n    const applyFilters = (values: any) => {\r\n        const commonFiltersData = parseCommonFilters(values);\r\n        console.log(commonFiltersData);\r\n        goTo(path, false, { commonFilters: commonFiltersData });\r\n        setOpen(false);\r\n    };\r\n\r\n    return {\r\n        activeAttributes,\r\n        open,\r\n        setOpen,\r\n        applyFilters,\r\n        commonFilters,\r\n        categoryMeasurementUnitOptions,\r\n    };\r\n};\r\n","import { FC } from 'react';\r\nimport { Filter } from 'react-feather';\r\n\r\nimport './CategoryFilters.css';\r\nimport { CFForm } from './CFForm';\r\nimport { useCategoryFilters } from './useCategoryFilters';\r\n\r\nexport const CategoryFilters: FC = () => {\r\n    const { applyFilters, activeAttributes, open, setOpen, commonFilters } = useCategoryFilters();\r\n    return (\r\n        <>\r\n            <div className=\"category-filters__button\" onClick={() => setOpen(true)}>\r\n                <Filter />\r\n            </div>\r\n            {open && (\r\n                <CFForm\r\n                    open={open}\r\n                    setOpen={setOpen}\r\n                    applyFilters={applyFilters}\r\n                    activeAttributes={activeAttributes}\r\n                    initialValues={commonFilters}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { Grid, List } from 'react-feather';\r\nimport './ChangeListGridView.css';\r\nimport { useChangeListGridView } from './useChangeListGridView';\r\n\r\nexport const ChangeListGridView: FC = () => {\r\n    const { view, setActiveView } = useChangeListGridView();\r\n    return (\r\n        <>\r\n            <div\r\n                className={`change-grid-list-view__button${\r\n                    view === 'grid' ? ' change-grid-list-view__button-active' : ''\r\n                }`}\r\n                onClick={() => setActiveView('grid')}\r\n            >\r\n                <Grid />\r\n            </div>\r\n            <div\r\n                className={`change-grid-list-view__button${\r\n                    view === 'list' ? ' change-grid-list-view__button-active' : ''\r\n                }`}\r\n                onClick={() => setActiveView('list')}\r\n            >\r\n                <List />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import { useCallback } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport { setActive } from '../../redux/reducers/homeViewReducer';\r\n\r\nexport const useChangeListGridView = () => {\r\n    const dispatch = useAppDispatch();\r\n    const view = useAppSelector((state) => state.homeView.active);\r\n\r\n    const setActiveView = useCallback(\r\n        (active: 'list' | 'grid') => {\r\n            dispatch(setActive(active));\r\n        },\r\n        [dispatch],\r\n    );\r\n    return {\r\n        view,\r\n        setActiveView,\r\n    };\r\n};\r\n","export const findUrlCategories = (data: any[], target: any) => {\r\n    const memo: any[] = [];\r\n    const recr = (item: any, target: any) => {\r\n        const { id, name, children } = item;\r\n        if (id === target) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        let flag = false;\r\n        children.forEach((c: any) => {\r\n            if (recr(c, target)) {\r\n                flag = true;\r\n            }\r\n        });\r\n        if (flag) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    data.forEach((item) => {\r\n        recr(item, target);\r\n    });\r\n    return memo.reverse();\r\n};\r\n","import { findUrlCategories } from './findUrlCategories';\r\nimport { prepareCategoriesForUrl } from './prepareCategoriesForUrl';\r\n\r\nexport const createAdUrl = (categories: any[], category: number, id: string, title: string) => {\r\n    const urlCategories = findUrlCategories(categories, category);\r\n    const preparedCategories = prepareCategoriesForUrl(urlCategories);\r\n    const encodedTitle = encodeURI(title.replaceAll(' ', '-'));\r\n    return `/ad/${id}/${preparedCategories}/${encodedTitle}`;\r\n};\r\n","export const prepareCategoriesForUrl = (categories: any[]) => {\r\n    return categories.map((category) => category.toLowerCase().trim().split(' ').join('-')).join('/');\r\n};\r\n","import { useTranslation } from 'react-i18next';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { createAdUrl } from '../../utils/createAdUrl';\r\n\r\nexport const useGridItem = (item: IMainPageItem) => {\r\n    const { t } = useTranslation();\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n    const {\r\n        category,\r\n        id,\r\n        title,\r\n        country_name,\r\n        place,\r\n        attributes,\r\n        description,\r\n        listing_type_name,\r\n        default_image,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = item;\r\n    const adUrl = createAdUrl(categoryTree, category, id, title);\r\n    const placeText = [country_name, place].filter(Boolean).join(', ');\r\n    const priorityAttributes = createPriorityAttributesStr(attributes);\r\n    const itemDescription = createDescription(description);\r\n\r\n    const trimmedItemDescription =\r\n        itemDescription.length > 500 ? itemDescription.substring(0, 500) + '...' : itemDescription;\r\n\r\n    return {\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n        t,\r\n    };\r\n};\r\n\r\nconst createPriorityAttributesStr = (attributes: any[]) => {\r\n    const isMetricSystem = true;\r\n    const strArr = attributes.map((attribute) => {\r\n        const { value_formatted, measurement_unit_name, additional_measurement_units } = attribute;\r\n        const [value, unit] = getValueAndUnit(\r\n            value_formatted,\r\n            measurement_unit_name,\r\n            additional_measurement_units,\r\n            isMetricSystem\r\n        );\r\n        let s = value;\r\n        if (unit !== null && unit !== undefined) {\r\n            s += ' ' + unit;\r\n        }\r\n        return s;\r\n    });\r\n    return strArr.join('; ');\r\n};\r\n\r\nconst getValueAndUnit = (\r\n    value_formatted: any,\r\n    measurement_unit_name: any,\r\n    additional_measurement_units: any[],\r\n    isMetricSystem: any\r\n) => {\r\n    if (additional_measurement_units.length === 0) {\r\n        return [value_formatted, measurement_unit_name];\r\n    }\r\n    const additionalMeasurementUnit = additional_measurement_units.find(\r\n        ({ metric_system }) => metric_system === isMetricSystem\r\n    );\r\n    const { value_formatted: value_formatted2, name } = additionalMeasurementUnit || {};\r\n    return [value_formatted2, name];\r\n};\r\n\r\nconst createDescription = (description: string) => {\r\n    const container = document.createElement('div');\r\n    container.innerHTML = description;\r\n    const elements = container.childNodes;\r\n    const textElements = [];\r\n    for (let element of elements as any) {\r\n        let text = '';\r\n        if (element.tagName === 'UL') {\r\n            const innerElements = element.childNodes;\r\n            let innerTextElements = [];\r\n            for (let innerElement of innerElements) {\r\n                const innerText = innerElement.textContent || innerElement.innerText || null;\r\n                if (innerText !== null && innerText.length !== 0) {\r\n                    innerTextElements.push(innerText);\r\n                }\r\n            }\r\n            text = innerTextElements.join(' ');\r\n        } else {\r\n            text = element.textContent || element.innerText || null;\r\n        }\r\n        if (text !== null && text.length !== 0) {\r\n            textElements.push(text);\r\n        }\r\n    }\r\n    return textElements.join(' ');\r\n};\r\n","import { imageBaseUrl } from '../constants/imageBaseUrl';\r\n\r\nexport const createImageUrlByMediaType = (mediaType: number, id: string, videoCode: string) =>\r\n    mediaType === 1 ? imageBaseUrl + id + '.jpeg' : 'https://img.youtube.com/vi/' + videoCode + '/maxresdefault.jpg';\r\n","import { useEffect, useState } from 'react';\r\nimport { getItemMedia } from '../../api/itemMedia';\r\nimport { createImageUrl } from '../../utils/createImageUrl';\r\nimport { createImageUrlByMediaType } from '../../utils/createImageUrlByMediaType';\r\n\r\nexport const useContentImageView = (itemId: string, title: string, defaultImage?: string) => {\r\n    const defaultImgUrl = createImageUrl(defaultImage);\r\n    const [availableImages, setAvailableImages] = useState([\r\n        {\r\n            url: defaultImgUrl,\r\n            alt: title,\r\n            id: defaultImage !== null && defaultImage !== undefined ? defaultImage : 'DEFAULT_IMAGE',\r\n        },\r\n    ]);\r\n    useEffect(() => {\r\n        const getMedia = async () => {\r\n            if (!!defaultImage) {\r\n                const { data } = await getItemMedia(itemId);\r\n                const { error_id } = data;\r\n                if (error_id === 0) {\r\n                    const { items } = data;\r\n                    const images: any[] = [];\r\n                    for (let item of items) {\r\n                        const { id, default: defaultImg, media_type, video_code } = item;\r\n                        if (!defaultImg) {\r\n                            const url = createImageUrlByMediaType(media_type, id, video_code);\r\n                            images.push({ url, alt: title, id });\r\n                        }\r\n                        if (images.length) {\r\n                            setAvailableImages([{ url: defaultImgUrl, alt: title, id: 'DEFAULT_IMAGE' }, ...images]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        getMedia();\r\n    }, [defaultImage, defaultImgUrl, itemId, title]);\r\n    return {\r\n        availableImages,\r\n    };\r\n};\r\n","import { imageBaseUrl } from '../constants/imageBaseUrl';\r\nimport DefaultImage from '../assets/img/jpg.png';\r\n\r\nexport const createImageUrl = (defaultImage?: string) =>\r\n    !!defaultImage ? imageBaseUrl + defaultImage + '.jpeg' : DefaultImage;\r\n","import { FC, useCallback, useState } from 'react';\r\nimport { ArrowLeft, ArrowRight } from 'react-feather';\r\nimport { useContentImageView } from './useContentImageView';\r\n\r\ninterface IContentImageView {\r\n    defaultImage: string;\r\n    title: string;\r\n    itemId: string;\r\n}\r\n\r\nexport const ContentImageView: FC<IContentImageView> = ({ defaultImage, title, itemId }) => {\r\n    const { availableImages } = useContentImageView(itemId, title, defaultImage);\r\n    return (\r\n        <div className='content-image-view'>\r\n            {availableImages.length === 1 ? (\r\n                <img\r\n                    key={availableImages[0].id}\r\n                    className='content-image-view__image'\r\n                    src={availableImages[0].url}\r\n                    alt={availableImages[0].alt}\r\n                />\r\n            ) : (\r\n                <MultiImageView images={availableImages} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface IMultiImageViewProps {\r\n    images: { id: string; url: string; alt: string }[];\r\n}\r\n\r\nconst useMultiImageView = (images: { id: string; url: string; alt: string }[]) => {\r\n    const [currentIdx, setCurrentIdx] = useState<number>(0);\r\n    const [className, setClassName] = useState<string>('');\r\n\r\n    const onNext = useCallback(() => {\r\n        const nextIdx = currentIdx === images.length - 1 ? 0 : currentIdx + 1;\r\n        setCurrentIdx(nextIdx);\r\n        setClassName('content-image-view__multi-image-from-rigth');\r\n    }, [currentIdx, images.length]);\r\n\r\n    const onPrev = useCallback(() => {\r\n        const prevIdx = currentIdx === 0 ? images.length - 1 : currentIdx - 1;\r\n        setCurrentIdx(prevIdx);\r\n        setClassName('content-image-view__multi-image-from-left');\r\n    }, [currentIdx, images.length]);\r\n    return {\r\n        className,\r\n        currentIdx,\r\n        onNext,\r\n        onPrev,\r\n    };\r\n};\r\n\r\nconst MultiImageView: FC<IMultiImageViewProps> = ({ images }) => {\r\n    const { className, currentIdx, onNext, onPrev } = useMultiImageView(images);\r\n    return (\r\n        <div className='content-image-view__multi'>\r\n            <img\r\n                key={images[currentIdx].id}\r\n                className={`content-image-view__multi-image ${className}`}\r\n                src={images[currentIdx].url}\r\n                alt={images[currentIdx].alt}\r\n            />\r\n            <ArrowLeft\r\n                className='content-image-view__multi-arrow-left'\r\n                onClick={(e: any) => {\r\n                    e.preventDefault();\r\n                    onPrev();\r\n                }}\r\n                size={28}\r\n            />\r\n            <ArrowRight\r\n                className='content-image-view__multi-arrow-right'\r\n                onClick={(e: any) => {\r\n                    e.preventDefault();\r\n                    onNext();\r\n                }}\r\n                size={28}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { Card } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGridItem } from './useGridItem';\r\nimport { ContentImageView } from '../content-image-view';\r\nimport { MapPin } from 'react-feather';\r\n\r\ninterface IGridItem {\r\n    item: IMainPageItem;\r\n}\r\n\r\nconst userCurrencyName = null;\r\n\r\nexport const GridItem: FC<IGridItem> = ({ item }) => {\r\n    const {\r\n        t,\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = useGridItem(item);\r\n    return (\r\n        <Card className=\"grid-item\">\r\n            <Link to={adUrl}>\r\n                {' '}\r\n                <div className=\"card-content\">\r\n                    <h6 className=\"item-title\" title={title}>\r\n                        <strong>{listing_type_name}:</strong> {title}\r\n                    </h6>\r\n                    <ContentImageView defaultImage={default_image} title={title} itemId={id} />\r\n                    <div className=\"item-price-wrapper\">\r\n                        <h6 className=\"item-price\">\r\n                            {currency_name === userCurrencyName\r\n                                ? price_formatted\r\n                                : converted_price_formatted === null && price_formatted === null\r\n                                ? null\r\n                                : `≈ ${converted_price_formatted}`}{' '}\r\n                            {converted_price_formatted === null && price_formatted === null\r\n                                ? price_by_agreement === true\r\n                                    ? t('lblPriceByAgreement')\r\n                                    : null\r\n                                : userCurrencyName}\r\n                            {measurement_unit_name !== null && '/'}\r\n                            {measurement_unit_name}\r\n                        </h6>\r\n                        {currency_name !== userCurrencyName && (\r\n                            <h6 className=\"item-price-second\">\r\n                                {price_formatted} {currency_name}\r\n                                {measurement_unit_name !== null && '/'}\r\n                                {measurement_unit_name}\r\n                            </h6>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"item-main-wrapper\">\r\n                        <h6 className=\"item-title\" title={title}>\r\n                            <strong>{listing_type_name}:</strong> {title}\r\n                        </h6>\r\n                        {priorityAttributes && (\r\n                            <span className=\"item-attributes\" title={priorityAttributes}>\r\n                                {priorityAttributes}\r\n                            </span>\r\n                        )}\r\n                        <span className=\"item-description\" title={itemDescription}>\r\n                            {trimmedItemDescription}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item-additional-content\">\r\n                        <div className=\"item-additional-content\">\r\n                            <div className=\"item-owner-wrapper\">\r\n                                <p className=\"item-owner\">\r\n                                    <span>{t('lblPostedBy')}: </span>\r\n                                    {owner_nickname}\r\n                                    {owner_name !== null ? ` (${owner_name})` : ''}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"item-location-wrapper\">\r\n                                <MapPin size={15} className=\"item-location-pin\" />\r\n                                <span className=\"item-location\">{placeText}</span>\r\n                            </div>\r\n                            <div className=\"item-created-wrapper\">\r\n                                <div className=\"item-created-desktop\">\r\n                                    <span className=\"item-created\">\r\n                                        {t('lblCreated')}: <strong>{create_date_formatted}</strong>\r\n                                    </span>\r\n                                    <span className=\"item-created\">\r\n                                        {t('lblViews')}: <strong>{view_count}</strong>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"item-created-mobile\">\r\n                                    <span className=\"item-created\">\r\n                                        {t('lblCreated')}: <strong>{create_date_formatted}</strong>, {t('lblViews')}:{' '}\r\n                                        <strong>{view_count}</strong>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </Card>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { GridItem } from '../grid-item';\r\n\r\nimport './GridItems.css';\r\n\r\ninterface IGridItemsProps {\r\n    items: IMainPageItem[];\r\n}\r\n\r\nexport const GridItems: FC<IGridItemsProps> = ({ items }) => {\r\n    return (\r\n        <div className=\"grid-items\">\r\n            {items.map((item, idx) => (\r\n                <GridItem key={item.id + '_' + idx} item={item} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","import { useTranslation } from 'react-i18next';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { createAdUrl } from '../../utils/createAdUrl';\r\n\r\nexport const useListItem = (item: IMainPageItem) => {\r\n    const { t } = useTranslation();\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n    const {\r\n        category,\r\n        id,\r\n        title,\r\n        country_name,\r\n        place,\r\n        attributes,\r\n        description,\r\n        listing_type_name,\r\n        default_image,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = item;\r\n    const adUrl = createAdUrl(categoryTree, category, id, title);\r\n    const placeText = [country_name, place].filter(Boolean).join(', ');\r\n    const priorityAttributes = createPriorityAttributesStr(attributes);\r\n    const itemDescription = createDescription(description);\r\n\r\n    const trimmedItemDescription =\r\n        itemDescription.length > 500 ? itemDescription.substring(0, 500) + '...' : itemDescription;\r\n\r\n    return {\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n        t,\r\n    };\r\n};\r\n\r\nconst createPriorityAttributesStr = (attributes: any[]) => {\r\n    const isMetricSystem = true;\r\n    const strArr = attributes.map((attribute) => {\r\n        const { value_formatted, measurement_unit_name, additional_measurement_units } = attribute;\r\n        const [value, unit] = getValueAndUnit(\r\n            value_formatted,\r\n            measurement_unit_name,\r\n            additional_measurement_units,\r\n            isMetricSystem\r\n        );\r\n        let s = value;\r\n        if (unit !== null && unit !== undefined) {\r\n            s += ' ' + unit;\r\n        }\r\n        return s;\r\n    });\r\n    return strArr.join('; ');\r\n};\r\n\r\nconst getValueAndUnit = (\r\n    value_formatted: any,\r\n    measurement_unit_name: any,\r\n    additional_measurement_units: any[],\r\n    isMetricSystem: any\r\n) => {\r\n    if (additional_measurement_units.length === 0) {\r\n        return [value_formatted, measurement_unit_name];\r\n    }\r\n    const additionalMeasurementUnit = additional_measurement_units.find(\r\n        ({ metric_system }) => metric_system === isMetricSystem\r\n    );\r\n    const { value_formatted: value_formatted2, name } = additionalMeasurementUnit || {};\r\n    return [value_formatted2, name];\r\n};\r\n\r\nconst createDescription = (description: string) => {\r\n    const container = document.createElement('div');\r\n    container.innerHTML = description;\r\n    const elements = container.childNodes;\r\n    const textElements = [];\r\n    for (let element of elements as any) {\r\n        let text = '';\r\n        if (element.tagName === 'UL') {\r\n            const innerElements = element.childNodes;\r\n            let innerTextElements = [];\r\n            for (let innerElement of innerElements) {\r\n                const innerText = innerElement.textContent || innerElement.innerText || null;\r\n                if (innerText !== null && innerText.length !== 0) {\r\n                    innerTextElements.push(innerText);\r\n                }\r\n            }\r\n            text = innerTextElements.join(' ');\r\n        } else {\r\n            text = element.textContent || element.innerText || null;\r\n        }\r\n        if (text !== null && text.length !== 0) {\r\n            textElements.push(text);\r\n        }\r\n    }\r\n    return textElements.join(' ');\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { Card } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useListItem } from './useListItem';\r\nimport { ContentImageView } from '../content-image-view';\r\nimport { MapPin } from 'react-feather';\r\n\r\ninterface IListItem {\r\n    item: IMainPageItem;\r\n}\r\n\r\nconst userCurrencyName = null;\r\n\r\nexport const ListItem: FC<IListItem> = ({ item }) => {\r\n    const {\r\n        t,\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = useListItem(item);\r\n    return (\r\n        <Card className=\"list-item\">\r\n            <Link to={adUrl}>\r\n                {' '}\r\n                <div className=\"card-content\">\r\n                    <ContentImageView defaultImage={default_image} title={title} itemId={id} />\r\n                    <div className=\"item-main-wrapper\">\r\n                        <h6 className=\"item-title\" title={title}>\r\n                            <strong>{listing_type_name}:</strong> {title}\r\n                        </h6>\r\n                        {priorityAttributes && (\r\n                            <span className=\"item-attributes\" title={priorityAttributes}>\r\n                                {priorityAttributes}\r\n                            </span>\r\n                        )}\r\n                        <span className=\"item-description\" title={itemDescription}>\r\n                            {trimmedItemDescription}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item-additional-content\">\r\n                        <div className=\"item-price-wrapper\">\r\n                            <h6 className=\"item-price\">\r\n                                {currency_name === userCurrencyName\r\n                                    ? price_formatted\r\n                                    : converted_price_formatted === null && price_formatted === null\r\n                                    ? null\r\n                                    : `≈ ${converted_price_formatted}`}{' '}\r\n                                {converted_price_formatted === null && price_formatted === null\r\n                                    ? price_by_agreement === true\r\n                                        ? t('lblPriceByAgreement')\r\n                                        : null\r\n                                    : userCurrencyName}\r\n                                {measurement_unit_name !== null && '/'}\r\n                                {measurement_unit_name}\r\n                            </h6>\r\n                            {currency_name !== userCurrencyName && (\r\n                                <h6 className=\"item-price-second\">\r\n                                    {price_formatted} {currency_name}\r\n                                    {measurement_unit_name !== null && '/'}\r\n                                    {measurement_unit_name}\r\n                                </h6>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"item-owner-wrapper\">\r\n                            <p className=\"item-owner\">\r\n                                <span>{t('lblPostedBy')}: </span>\r\n                                {owner_nickname}\r\n                                {owner_name !== null ? ` (${owner_name})` : ''}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"item-location-wrapper\">\r\n                            <MapPin size={15} className=\"item-location-pin\" />\r\n                            <span className=\"item-location\">{placeText}</span>\r\n                        </div>\r\n                        <div className=\"item-created-wrapper\">\r\n                            <div className=\"item-created-desktop\">\r\n                                <span className=\"item-created\">\r\n                                    {t('lblCreated')}: <strong>{create_date_formatted}</strong>\r\n                                </span>\r\n                                <span className=\"item-created\">\r\n                                    {t('lblViews')}: <strong>{view_count}</strong>\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"item-created-mobile\">\r\n                                <span className=\"item-created\">\r\n                                    {t('lblCreated')}: <strong>{create_date_formatted}</strong>, {t('lblViews')}:{' '}\r\n                                    <strong>{view_count}</strong>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </Card>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { ListItem } from '../list-item';\r\n\r\nimport './ListItems.css';\r\n\r\ninterface IListItemsProps {\r\n    items: IMainPageItem[];\r\n}\r\n\r\nexport const ListItems: FC<IListItemsProps> = ({ items }) => {\r\n    return (\r\n        <div className='list-items'>\r\n            {items.map((item, idx) => (\r\n                <ListItem key={item.id + '_' + idx} item={item} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport {\r\n    Truck,\r\n    Target,\r\n    Monitor,\r\n    ShoppingCart,\r\n    Home,\r\n    Server,\r\n    Coffee,\r\n    Users,\r\n    Wind,\r\n    Feather,\r\n    Grid,\r\n    Anchor,\r\n    Circle,\r\n} from 'react-feather';\r\n\r\ninterface ICategoryIconProps {\r\n    itemIcon: string;\r\n}\r\n\r\nexport const CategoryIcon: FC<ICategoryIconProps> = ({ itemIcon }) => {\r\n    // Truck, Target, Monitor, ShoppingCart, Home, Server, Grid, Coffee, Users, Anchor, Wind, Feather\r\n    const iconSize = 14;\r\n    switch (itemIcon) {\r\n        case 'Truck':\r\n            return <Truck size={iconSize}></Truck>;\r\n        case 'Target':\r\n            return <Target size={iconSize}></Target>;\r\n        case 'Monitor':\r\n            return <Monitor size={iconSize}></Monitor>;\r\n        case 'ShoppingCart':\r\n            return <ShoppingCart size={iconSize}></ShoppingCart>;\r\n        case 'Home':\r\n            return <Home size={iconSize}></Home>;\r\n        case 'Server':\r\n            return <Server size={iconSize}></Server>;\r\n        case 'Grid':\r\n            return <Grid size={iconSize}></Grid>;\r\n        case 'Coffee':\r\n            return <Coffee size={iconSize}></Coffee>;\r\n        case 'Users':\r\n            return <Users size={iconSize}></Users>;\r\n        case 'Anchor':\r\n            return <Anchor size={iconSize}></Anchor>;\r\n        case 'Wind':\r\n            return <Wind size={iconSize}></Wind>;\r\n        case 'Feather':\r\n            return <Feather size={iconSize}></Feather>;\r\n        default:\r\n            return <Circle size={10}></Circle>;\r\n    }\r\n};\r\n","import { FC } from 'react';\r\n\r\nimport { useSidebar } from './useSidebar';\r\n\r\nimport './Sidebar.css';\r\nimport { Circle, Disc, ChevronRight, ChevronDown, X } from 'react-feather';\r\nimport { CategoryIcon } from '../category-icon/CategoryIcon';\r\nimport { Button } from 'antd';\r\nimport Hammer from 'react-hammerjs';\r\n\r\nexport const Sidebar: FC = () => {\r\n    const {\r\n        onItemClick,\r\n        docked,\r\n        open,\r\n        onDockedClick,\r\n        onSidebarMouseEnter,\r\n        onSidebarMouseLeave,\r\n        sidebarClassName,\r\n        sidebarTree,\r\n        onFilterClick,\r\n        t,\r\n        onSwipe,\r\n        isMobile,\r\n        mobileOpen,\r\n        selected,\r\n    } = useSidebar();\r\n    return (\r\n        <>\r\n            <Hammer onSwipe={onSwipe}>\r\n                <div className=\"sidebar__hammer\"></div>\r\n            </Hammer>\r\n            <div className={sidebarClassName}>\r\n                <div className=\"sidebar__header\" onMouseEnter={onSidebarMouseEnter} onMouseLeave={onSidebarMouseLeave}>\r\n                    {(docked || open || mobileOpen) && (\r\n                        <>\r\n                            <span className=\"sidebar__header-title\">Vevergo</span>\r\n                            <div className=\"sidebar__header-icon\" onClick={isMobile ? onSwipe : onDockedClick}>\r\n                                {isMobile ? <X /> : docked ? <Disc /> : <Circle />}\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <div className=\"sidebar__content\">\r\n                    {sidebarTree.map((item) => (\r\n                        <SidebarItem\r\n                            key={item.id}\r\n                            first\r\n                            item={item}\r\n                            onItemClick={onItemClick}\r\n                            docked={docked}\r\n                            open={open}\r\n                            mobileOpen={mobileOpen}\r\n                            isMobile={isMobile}\r\n                        />\r\n                    ))}\r\n                </div>\r\n                {(docked || open || mobileOpen) && (\r\n                    <div className=\"sidebar__footer-wrapper\">\r\n                        <div className=\"sidebar__footer\">\r\n                            <Button\r\n                                onClick={onFilterClick}\r\n                                className=\"sidebar__footer-button\"\r\n                                disabled={selected.length === 0}\r\n                            >\r\n                                {t('lblFilter')}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst SidebarItem: FC<any> = ({ item, onItemClick, docked, open, first, mobileOpen, isMobile }) => {\r\n    const { id, name, type, children, icon, active } = item;\r\n    return (\r\n        <>\r\n            <div\r\n                key={id}\r\n                className={`sidebar__content-item ${\r\n                    active\r\n                        ? type === 'collapse'\r\n                            ? 'sidebar__content-item-active'\r\n                            : 'sidebar__content-item-active-last'\r\n                        : ''\r\n                }`}\r\n                onClick={() => onItemClick(id)}\r\n            >\r\n                <div className=\"sidebar__content-item-label\">\r\n                    <div className=\"sidebar__content-item-icon\">\r\n                        <CategoryIcon itemIcon={icon} />\r\n                    </div>\r\n                    {(isMobile ? mobileOpen : docked || open) && <span>{name}</span>}\r\n                </div>\r\n                {(isMobile ? mobileOpen : docked || open) &&\r\n                    type !== 'item' &&\r\n                    (active ? <ChevronDown size={14} /> : <ChevronRight size={14} />)}\r\n            </div>\r\n            {active && children && (\r\n                <div className=\"sidebar__content-item-sub\">\r\n                    {(children as any[]).map((child, idx) => (\r\n                        <SidebarItem\r\n                            key={idx}\r\n                            item={child}\r\n                            onItemClick={onItemClick}\r\n                            docked={docked}\r\n                            open={open}\r\n                            mobileOpen={mobileOpen}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport { Category } from '../../redux/reducers/categoryTreeReducer';\r\nimport { setOpen, toggleDocked, setMobileOpen, toggleMobileOpen } from '../../redux/reducers/sidebarReducer';\r\nimport { findSelectedIds } from '../../utils/findSelectedIds';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface ISidebarItem {\r\n    icon: string;\r\n    id: number;\r\n    name: string;\r\n    children: ISidebarItem[];\r\n    type: 'collapse' | 'item';\r\n    active: boolean;\r\n}\r\n\r\nexport const useSidebar = () => {\r\n    const { t } = useTranslation();\r\n    const { goTo, path, state } = useAppHistory();\r\n    const dispatch = useAppDispatch();\r\n    const isMobile = useIsMobile();\r\n    const sidebarState = useAppSelector((state) => state.sidebar);\r\n    const mobileOpen = useAppSelector((state) => state.sidebar.mobileOpen);\r\n\r\n    const appliedFilters = useMemo(() => state?.sidebarFilters, [state?.sidebarFilters]);\r\n\r\n    useEffect(() => {\r\n        if (isMobile) {\r\n            dispatch(setMobileOpen(false));\r\n        }\r\n    }, [dispatch, isMobile]);\r\n\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n\r\n    const [selected, setSelected] = useState<number[]>([]);\r\n\r\n    useEffect(() => {\r\n        setSelected(appliedFilters ?? []);\r\n    }, [appliedFilters]);\r\n\r\n    const docked = useMemo(() => {\r\n        if (isMobile) {\r\n            return true;\r\n        }\r\n        return sidebarState?.docked;\r\n    }, [sidebarState?.docked, isMobile]);\r\n\r\n    const open = useMemo(() => {\r\n        if (isMobile) {\r\n            return mobileOpen;\r\n        }\r\n        return sidebarState?.open;\r\n    }, [isMobile, mobileOpen, sidebarState?.open]);\r\n\r\n    const onDockedClick = useCallback(() => {\r\n        dispatch(toggleDocked());\r\n    }, [dispatch]);\r\n\r\n    const onSidebarMouseEnter = useCallback(() => {\r\n        dispatch(setOpen(true));\r\n    }, [dispatch]);\r\n\r\n    const onSidebarMouseLeave = useCallback(() => {\r\n        dispatch(setOpen(false));\r\n    }, [dispatch]);\r\n\r\n    const sidebarClassName = useMemo(() => {\r\n        if (isMobile) return mobileOpen ? 'sidebar sidebar-mobile-open' : 'sidebar sidebar-mobile';\r\n        return docked || open ? 'sidebar sidebar-docked' : 'sidebar sidebar-undocked';\r\n    }, [docked, isMobile, open, mobileOpen]);\r\n\r\n    const createSidebarItem = useCallback(\r\n        (item: Category): ISidebarItem => {\r\n            const { children, icon, id, name, is_last } = item;\r\n            const itemChildren: ISidebarItem[] = is_last\r\n                ? []\r\n                : children.map((child: Category) => createSidebarItem(child));\r\n            return {\r\n                id,\r\n                name,\r\n                icon,\r\n                children: itemChildren,\r\n                type: is_last ? 'item' : 'collapse',\r\n                active: selected.includes(id),\r\n            };\r\n        },\r\n        [selected]\r\n    );\r\n\r\n    const sidebarTree = useMemo(\r\n        () =>\r\n            categoryTree.map((item) => {\r\n                return createSidebarItem(item);\r\n            }),\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [selected]\r\n    );\r\n\r\n    const onItemClick = useCallback(\r\n        (id: number) => {\r\n            if (selected.includes(id)) {\r\n                const obj = selected.reduce(\r\n                    (acc, sId, idx) => {\r\n                        if (id === sId) {\r\n                            acc = { ...acc, isFound: true };\r\n                        } else {\r\n                            acc = { ...acc, sIds: [...acc.sIds, sId] };\r\n                        }\r\n                        return acc;\r\n                    },\r\n                    { sIds: [] as any[], isFound: false }\r\n                );\r\n                setSelected(obj.sIds);\r\n            } else {\r\n                const selectedIds = findSelectedIds(categoryTree, id);\r\n                setSelected(selectedIds);\r\n            }\r\n        },\r\n        [categoryTree, selected]\r\n    );\r\n\r\n    const onFilterClick = useCallback(() => {\r\n        if (isMobile) {\r\n            dispatch(setMobileOpen(false));\r\n        }\r\n        goTo(path, false, { sidebarFilters: selected });\r\n    }, [dispatch, goTo, isMobile, path, selected]);\r\n\r\n    const onSwipe = useCallback(() => {\r\n        dispatch(toggleMobileOpen());\r\n    }, [dispatch]);\r\n\r\n    const isHome = useMemo(() => isMobile && path === '/', [isMobile, path]);\r\n\r\n    useEffect(() => {\r\n        if (isMobile && open) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n    }, [isMobile, open]);\r\n\r\n    return {\r\n        docked,\r\n        open,\r\n        onDockedClick,\r\n        onSidebarMouseEnter,\r\n        onSidebarMouseLeave,\r\n        sidebarClassName,\r\n        sidebarTree,\r\n        onItemClick,\r\n        onFilterClick,\r\n        t,\r\n        isMobile,\r\n        onSwipe,\r\n        isHome,\r\n        mobileOpen,\r\n        selected,\r\n    };\r\n};\r\n","export const sortByOptions = [\r\n    { value: 1, label: 'lblDateModifiedNewer', orderType: 0 },\r\n    { value: 0, label: 'lblDateModifiedOlder', orderType: 1 },\r\n    { value: 3, label: 'lblPriceLower', orderType: 0, orderItem: 1 },\r\n    { value: 2, label: 'lblPriceHighest', orderType: 1, orderItem: 1 },\r\n    { value: 5, label: 'lblRelevanceLeast', orderType: 0, orderItem: 2 },\r\n    { value: 4, label: 'lblRelevanceMost', orderType: 1, orderItem: 2 },\r\n    { value: 7, label: 'lblTitleAsc', orderType: 0, orderItem: 3 },\r\n    { value: 6, label: 'lblTitleDesc', orderType: 1, orderItem: 3 },\r\n    { value: 9, label: 'lblViewsLowest', orderType: 0, orderItem: 4 },\r\n    {\r\n        value: 8,\r\n        label: 'lblViewsHighest',\r\n        orderType: 1,\r\n        orderItem: 4,\r\n    },\r\n];\r\n","import { FC } from 'react';\r\nimport { useSortBy } from './useSortBy';\r\nimport './SortBy.css';\r\nimport { sortByOptions } from '../../constants/sortByOptions';\r\nimport { X } from 'react-feather';\r\n\r\nexport const SortBy: FC = () => {\r\n    const { open, toggleOpen, t, currRef, setActiveSort, sortValue, sortValueId } = useSortBy();\r\n    return (\r\n        <div ref={currRef} className=\"sort-by\">\r\n            <div className=\"sort-by__button\" onClick={() => toggleOpen()}>\r\n                {!!sortValue ? t(sortValue) : t('lblSortBy')}\r\n                {!!sortValue && (\r\n                    <X\r\n                        className=\"sort-by__close\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setActiveSort(undefined);\r\n                        }}\r\n                    />\r\n                )}\r\n                {open ? <OpenArrow /> : <ClosedArrow />}\r\n            </div>\r\n            {open && (\r\n                <div className=\"sort-by__list\">\r\n                    {sortByOptions.map(({ value, label }) => (\r\n                        <div\r\n                            key={value}\r\n                            className={`sort-by__item${sortValueId === value ? ' sort-by__item-active' : ''}`}\r\n                            onClick={() => setActiveSort(value)}\r\n                        >\r\n                            {label}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst OpenArrow: FC = () => <span className=\"sort-by__button-open\" />;\r\nconst ClosedArrow: FC = () => <span className=\"sort-by__button-closed\" />;\r\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { sortByOptions } from '../../constants/sortByOptions';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport { setSort } from '../../redux/reducers/homeViewReducer';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\nimport { useOutsideClickListener } from '../../utils/useOutsideClickListener';\r\n\r\nexport const useSortBy = () => {\r\n    const { state, goTo, path } = useAppHistory();\r\n    const { t } = useTranslation();\r\n    const sortValueId = useAppSelector((state) => state.homeView.sortValue);\r\n    const dispatch = useAppDispatch();\r\n    const isMobile = useIsMobile();\r\n    const [open, setOpen] = useState(false);\r\n    const currRef = useRef(null);\r\n\r\n    const toggleOpen = useCallback(\r\n        (forceClose?: boolean) => {\r\n            if (forceClose) {\r\n                setOpen(false);\r\n                return;\r\n            }\r\n            setOpen(!open);\r\n        },\r\n        [open],\r\n    );\r\n\r\n    const setActiveSort = useCallback(\r\n        (value: number | undefined) => {\r\n            goTo(path, false, { sortBy: value });\r\n            toggleOpen(true);\r\n        },\r\n        [goTo, path, toggleOpen],\r\n    );\r\n\r\n    const sortValue = useMemo(() => {\r\n        return sortByOptions.find(({ value }) => value === sortValueId)?.label;\r\n    }, [sortValueId]);\r\n\r\n    useOutsideClickListener(currRef, isMobile ? undefined : () => toggleOpen(true));\r\n\r\n    useEffect(() => {\r\n        dispatch(setSort(state?.sortBy));\r\n    }, [dispatch, state]);\r\n\r\n    return {\r\n        setActiveSort,\r\n        open,\r\n        toggleOpen,\r\n        currRef,\r\n        t,\r\n        sortValue,\r\n        sortValueId,\r\n    };\r\n};\r\n","import { AxiosResponse } from 'axios';\r\nimport { ApiService } from '.';\r\nimport { sortByOptions } from '../constants/sortByOptions';\r\nimport { IMainPageData } from '../dto/mainPageDto';\r\nimport { getAcceptLanguageHeaders } from './utils';\r\n\r\ninterface Params {\r\n    start?: number;\r\n    sortBy?: number;\r\n    searchText?: string;\r\n    currency: number;\r\n    category?: number;\r\n    commonFilters?: { [key: string]: string };\r\n}\r\n\r\nconst getMainPageItems = async (params?: Params): Promise<AxiosResponse<IMainPageData>> => {\r\n    const { start, sortBy, searchText, currency, category, commonFilters } = params ?? {};\r\n    const headers = getAcceptLanguageHeaders();\r\n\r\n    let inputParams: any = {};\r\n\r\n    if (start) {\r\n        inputParams['start'] = start;\r\n    }\r\n\r\n    if (sortBy) {\r\n        const { orderType, orderItem } = sortByOptions.find(({ value }) => value === sortBy)!;\r\n        inputParams['order_type'] = orderType;\r\n        inputParams['order_item'] = orderItem;\r\n    }\r\n\r\n    if (searchText) {\r\n        inputParams['search_text'] = searchText;\r\n    }\r\n\r\n    if (category) {\r\n        inputParams['category'] = category;\r\n    }\r\n\r\n    if (commonFilters) {\r\n        inputParams = { ...inputParams, ...commonFilters };\r\n    }\r\n\r\n    const url = Object.keys(inputParams).length === 0 ? 'view/recent_item_listings' : 'view/search_item_listings';\r\n    const method = Object.keys(inputParams).length === 0 ? 'GET' : 'POST';\r\n\r\n    inputParams['currency'] = currency;\r\n\r\n    return ApiService<IMainPageData>(method, url, inputParams, null, headers);\r\n};\r\n\r\nexport { getMainPageItems };\r\n","import { FC } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { Breadcrumbs } from '../../components/breadcrumbs';\r\nimport { CategoryFilters } from '../../components/category-filters';\r\nimport { ChangeListGridView } from '../../components/change-list-grid-view';\r\nimport { GridItems } from '../../components/grid-items';\r\nimport { ListItems } from '../../components/list-items';\r\nimport { Sidebar } from '../../components/sidebar';\r\nimport { SortBy } from '../../components/sort-by';\r\n\r\nimport './Home.css';\r\nimport { useHome } from './useHome';\r\n\r\nconst Home: FC = () => {\r\n    const { items = [], totalCount, t, getNextItems, activeView, isMobile, homeClassName } = useHome();\r\n    return (\r\n        <div className={`home ${isMobile ? '' : 'home-desktop'}`}>\r\n            <Sidebar />\r\n\r\n            <div className={homeClassName}>\r\n                <div className=\"home__breadcrumbs\">\r\n                    <Breadcrumbs />\r\n                </div>\r\n                <div className=\"home__header\">\r\n                    <span className=\"home__total-count\">\r\n                        {totalCount} {t('lblResultsFound')}\r\n                    </span>\r\n                    <div className=\"home__actions\">\r\n                        <CategoryFilters />\r\n                        <SortBy />\r\n                        {!isMobile && <ChangeListGridView />}\r\n                    </div>\r\n                </div>\r\n                {items.length !== 0 && (\r\n                    <InfiniteScroll\r\n                        dataLength={items.length}\r\n                        next={getNextItems}\r\n                        hasMore={items.length < totalCount}\r\n                        loader={<h4>Loading...</h4>}\r\n                    >\r\n                        {activeView === 'grid' || isMobile ? <GridItems items={items} /> : <ListItems items={items} />}\r\n                    </InfiniteScroll>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { getMainPageItems } from '../../api/mainPageItems';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\nexport const useHome = () => {\r\n    const { t } = useTranslation();\r\n    const isMobile = useIsMobile();\r\n    const { state } = useAppHistory();\r\n    const searchText = useAppSelector((state) => state.mainPageFilter.searchText);\r\n    const sidebar = useAppSelector((state) => state.sidebar);\r\n    const sortBy = useAppSelector((state) => state.homeView.sortValue);\r\n    const activeView = useAppSelector((state) => state.homeView.active);\r\n    const currency = useAppSelector((state) => state.currencies.active);\r\n    const [start, setStart] = useState<number | undefined>(undefined);\r\n    const [items, setItems] = useState<IMainPageItem[]>([]);\r\n    const [totalCount, setTotalCount] = useState<number>(0);\r\n\r\n    const category = useMemo(() => {\r\n        if (!state) {\r\n            return null;\r\n        }\r\n        const sidebarFilters = state.sidebarFilters;\r\n        if (!sidebarFilters || sidebarFilters.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return sidebarFilters[sidebarFilters.length - 1];\r\n    }, [state]);\r\n\r\n    const commonFilters = useMemo(() => {\r\n        if (Object.keys(state?.commonFilters ?? {}).length === 0) {\r\n            return null;\r\n        }\r\n        const {\r\n            listing_type,\r\n            price_from,\r\n            price_to,\r\n            include_items_without_price,\r\n            country,\r\n            place,\r\n            owner_type,\r\n            include_items_with_media,\r\n        } = state.commonFilters;\r\n        const cf: any = {};\r\n        if (!!listing_type && listing_type.length !== 0) {\r\n            cf['listing_type'] = listing_type.join('%7C');\r\n        }\r\n        if (!!price_from) {\r\n            cf['price_from'] = price_from;\r\n        }\r\n        if (!!price_to) {\r\n            cf['price_to'] = price_to;\r\n        }\r\n        if (include_items_without_price !== 1) {\r\n            cf['include_items_without_price'] = include_items_without_price === 0;\r\n        }\r\n        if (!!country && country.length !== 0) {\r\n            cf['country'] = country.join('%7C');\r\n        }\r\n        if (!!place) {\r\n            cf['place'] = place;\r\n        }\r\n        if (owner_type !== undefined) {\r\n            cf['owner_type'] = owner_type === 0 ? 0 : 1;\r\n        }\r\n        if (include_items_with_media) {\r\n            cf['include_items_with_media'] = include_items_with_media;\r\n        }\r\n\r\n        return cf;\r\n    }, [state?.commonFilters]);\r\n\r\n    const getNextItems = useCallback(async () => {\r\n        try {\r\n            const response = await getMainPageItems({ sortBy, start, currency, category, commonFilters });\r\n            const elems = response.data.items;\r\n            setItems(items.concat(elems));\r\n            setStart(start ?? 0 + 10);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }, [category, commonFilters, currency, items, sortBy, start]);\r\n\r\n    useEffect(() => {\r\n        const getItems = async () => {\r\n            try {\r\n                const response = await getMainPageItems({ sortBy, searchText, currency, category, commonFilters });\r\n                const elems = response.data.items;\r\n                const total = response.data.total_count;\r\n                setItems(elems);\r\n                setTotalCount(total);\r\n                setStart(undefined);\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        };\r\n        getItems();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [sortBy, searchText, currency, category, commonFilters]);\r\n\r\n    const homeClassName = useMemo(() => {\r\n        if (isMobile) {\r\n            return 'home__content';\r\n        }\r\n        if (sidebar?.docked || sidebar?.open) {\r\n            return 'home__content home__content-docked';\r\n        }\r\n        return 'home__content home__content-undocked';\r\n    }, [isMobile, sidebar?.docked, sidebar?.open]);\r\n\r\n    return {\r\n        homeClassName,\r\n        items,\r\n        totalCount,\r\n        t,\r\n        getNextItems,\r\n        start,\r\n        activeView,\r\n        isMobile,\r\n    };\r\n};\r\n"],"sourceRoot":""}