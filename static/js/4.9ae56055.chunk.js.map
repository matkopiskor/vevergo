{"version":3,"sources":["utils/findSelectedIds.ts","utils/findSelectedNames.ts","components/breadcrumbs/Breadcrumbs.tsx","components/breadcrumbs/useBreadcrumbs.ts","components/change-list-grid-view/ChangeListGridView.tsx","components/change-list-grid-view/useChangeListGridView.ts","utils/findUrlCategories.ts","utils/createAdUrl.ts","utils/prepareCategoriesForUrl.ts","components/grid-item/useGridItem.ts","api/itemMedia.ts","constants/imageBaseUrl.ts","utils/createImageUrlByMediaType.ts","components/content-image-view/useContentImageView.ts","utils/createImageUrl.ts","assets/img/jpg.png","components/content-image-view/ContentImageView.tsx","components/grid-item/GridItem.tsx","components/grid-items/GridItems.tsx","components/list-item/useListItem.ts","components/list-item/ListItem.tsx","components/list-items/ListItems.tsx","components/category-icon/CategoryIcon.tsx","components/sidebar/Sidebar.tsx","components/sidebar/useSidebar.ts","constants/sortByOptions.ts","components/sort-by/SortBy.tsx","components/sort-by/useSortBy.ts","api/mainPageItems.ts","pages/Home/Home.tsx","pages/Home/useHome.ts"],"names":["findSelectedIds","data","target","memo","recr","item","id","children","push","flag","forEach","c","reverse","findSelectedNames","name","Breadcrumbs","useAppHistory","goTo","state","path","categoryTree","useAppSelector","tree","sidebarFilters","onBreadcrumbClick","useCallback","selectedIds","breadcrumbs","useMemo","length","names","map","idx","useBreadcrumbs","className","src","onClick","size","ChangeListGridView","dispatch","useAppDispatch","view","homeView","active","setActiveView","setActive","useChangeListGridView","findUrlCategories","createAdUrl","categories","category","title","preparedCategories","toLowerCase","trim","split","join","prepareCategoriesForUrl","encodedTitle","encodeURI","replaceAll","BASE_URL","createPriorityAttributesStr","attributes","attribute","value_formatted","measurement_unit_name","additional_measurement_units","getValueAndUnit","value","unit","s","undefined","isMetricSystem","find","metric_system","createDescription","description","container","document","createElement","innerHTML","elements","childNodes","textElements","element","text","tagName","innerElements","innerTextElements","innerElement","innerText","textContent","getItemMedia","itemId","a","ApiService","imageBaseUrl","createImageUrlByMediaType","mediaType","videoCode","useContentImageView","defaultImage","defaultImgUrl","createImageUrl","useState","url","alt","availableImages","setAvailableImages","useEffect","error_id","items","images","defaultImg","default","media_type","video_code","getMedia","ContentImageView","MultiImageView","currentIdx","setCurrentIdx","setClassName","onNext","nextIdx","onPrev","prevIdx","useMultiImageView","e","preventDefault","userCurrencyName","GridItem","t","trans","country_name","place","listing_type_name","default_image","currency_name","price_formatted","converted_price_formatted","price_by_agreement","owner_nickname","owner_name","create_date_formatted","view_count","adUrl","placeText","filter","Boolean","priorityAttributes","itemDescription","trimmedItemDescription","substring","useGridItem","to","GridItems","ListItem","useListItem","ListItems","CategoryIcon","iconSize","itemIcon","Sidebar","isMobile","useIsMobile","sidebarState","sidebar","swipe","setSwipe","selected","setSelected","docked","open","onDockedClick","toggleDocked","onSidebarMouseEnter","setOpen","onSidebarMouseLeave","sidebarClassName","createSidebarItem","icon","is_last","child","type","includes","sidebarTree","onItemClick","onFilterClick","onSwipe","isHome","console","log","useSidebar","onMouseEnter","onMouseLeave","first","SidebarItem","sortByOptions","label","orderType","orderItem","SortBy","sortValueId","sortValue","currRef","useRef","toggleOpen","forceClose","setActiveSort","sortBy","useOutsideClickListener","setSort","useSortBy","ref","stopPropagation","OpenArrow","ClosedArrow","getMainPageItems","params","start","searchText","currency","headers","getAcceptLanguageHeaders","inputParams","Object","keys","method","Home","mainPageFilter","activeView","currencies","setStart","setItems","totalCount","setTotalCount","getNextItems","response","elems","concat","error","total","total_count","getItems","homeClassName","useHome","dataLength","next","hasMore","loader"],"mappings":"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","file":"static/js/4.9ae56055.chunk.js","sourcesContent":["export const findSelectedIds = (data: any[], target: number) => {\r\n    const memo: any[] = [];\r\n    const recr = (item: any, target: number) => {\r\n        const { id, children } = item;\r\n        if (id === target) {\r\n            memo.push(id);\r\n            return true;\r\n        }\r\n        let flag = false;\r\n        children.forEach((c: any) => {\r\n            if (recr(c, target)) {\r\n                flag = true;\r\n            }\r\n        });\r\n        if (flag) {\r\n            memo.push(id);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    data.forEach((item) => {\r\n        recr(item, target);\r\n    });\r\n    return memo.reverse();\r\n};\r\n","export const findSelectedNames = (data: any[], target: number) => {\r\n    const memo: any[] = [];\r\n    const recr = (item: any, target: number) => {\r\n        const { id, name, children } = item;\r\n        if (id === target) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        let flag = false;\r\n        children.forEach((c: any) => {\r\n            if (recr(c, target)) {\r\n                flag = true;\r\n            }\r\n        });\r\n        if (flag) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    data.forEach((item) => {\r\n        recr(item, target);\r\n    });\r\n    return memo.reverse();\r\n};\r\n","import { FC } from 'react';\r\nimport { ChevronsRight } from 'react-feather';\r\n\r\nimport './Breadcrumbs.css';\r\nimport { useBreadcrumbs } from './useBreadcrumbs';\r\n\r\nexport const Breadcrumbs: FC = () => {\r\n    const { breadcrumbs, onBreadcrumbClick } = useBreadcrumbs();\r\n    return (\r\n        <div className=\"breadcrumbs\">\r\n            {breadcrumbs.map(({ id, name }, idx, src) => {\r\n                return (\r\n                    <>\r\n                        <div className=\"breadcrumbs__item\" onClick={() => onBreadcrumbClick(id)}>\r\n                            {name}\r\n                        </div>\r\n                        {idx !== src.length - 1 && <ChevronsRight size={14} />}\r\n                    </>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n","import { useCallback, useMemo } from 'react';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { findSelectedIds } from '../../utils/findSelectedIds';\r\nimport { findSelectedNames } from '../../utils/findSelectedNames';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\nexport const useBreadcrumbs = () => {\r\n    const { goTo, state, path } = useAppHistory();\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n\r\n    const { sidebarFilters } = state ?? {};\r\n\r\n    const onBreadcrumbClick = useCallback(\r\n        (id: number) => {\r\n            const selectedIds = findSelectedIds(categoryTree, id);\r\n            goTo(path, false, { sidebarFilters: selectedIds });\r\n        },\r\n        [categoryTree, goTo, path]\r\n    );\r\n\r\n    const breadcrumbs: { id: number; name: string }[] = useMemo(() => {\r\n        if (!sidebarFilters || sidebarFilters.length === 0) {\r\n            return [];\r\n        }\r\n        const names = findSelectedNames(categoryTree, sidebarFilters[sidebarFilters.length - 1]);\r\n\r\n        return sidebarFilters.map((id: number, idx: number) => {\r\n            return {\r\n                id,\r\n                name: names[idx],\r\n            };\r\n        });\r\n    }, [categoryTree, sidebarFilters]);\r\n\r\n    return {\r\n        onBreadcrumbClick,\r\n        breadcrumbs,\r\n    };\r\n};\r\n","import { FC } from 'react';\r\nimport { Grid, List } from 'react-feather';\r\nimport './ChangeListGridView.css';\r\nimport { useChangeListGridView } from './useChangeListGridView';\r\n\r\nexport const ChangeListGridView: FC = () => {\r\n    const { view, setActiveView } = useChangeListGridView();\r\n    return (\r\n        <>\r\n            <div\r\n                className={`change-grid-list-view__button${\r\n                    view === 'grid' ? ' change-grid-list-view__button-active' : ''\r\n                }`}\r\n                onClick={() => setActiveView('grid')}\r\n            >\r\n                <Grid />\r\n            </div>\r\n            <div\r\n                className={`change-grid-list-view__button${\r\n                    view === 'list' ? ' change-grid-list-view__button-active' : ''\r\n                }`}\r\n                onClick={() => setActiveView('list')}\r\n            >\r\n                <List />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import { useCallback } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport { setActive } from '../../redux/reducers/homeViewReducer';\r\n\r\nexport const useChangeListGridView = () => {\r\n    const dispatch = useAppDispatch();\r\n    const view = useAppSelector((state) => state.homeView.active);\r\n\r\n    const setActiveView = useCallback(\r\n        (active: 'list' | 'grid') => {\r\n            dispatch(setActive(active));\r\n        },\r\n        [dispatch],\r\n    );\r\n    return {\r\n        view,\r\n        setActiveView,\r\n    };\r\n};\r\n","export const findUrlCategories = (data: any[], target: any) => {\r\n    const memo: any[] = [];\r\n    const recr = (item: any, target: any) => {\r\n        const { id, name, children } = item;\r\n        if (id === target) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        let flag = false;\r\n        children.forEach((c: any) => {\r\n            if (recr(c, target)) {\r\n                flag = true;\r\n            }\r\n        });\r\n        if (flag) {\r\n            memo.push(name);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    data.forEach((item) => {\r\n        recr(item, target);\r\n    });\r\n    return memo.reverse();\r\n};\r\n","import { BASE_URL } from '../constants/baseUrl';\r\nimport { findUrlCategories } from './findUrlCategories';\r\nimport { prepareCategoriesForUrl } from './prepareCategoriesForUrl';\r\n\r\nexport const createAdUrl = (categories: any[], category: number, id: string, title: string) => {\r\n    const urlCategories = findUrlCategories(categories, category);\r\n    const preparedCategories = prepareCategoriesForUrl(urlCategories);\r\n    const encodedTitle = encodeURI(title.replaceAll(' ', '-'));\r\n    return `${BASE_URL}/ad/${id}/${preparedCategories}/${encodedTitle}`;\r\n};\r\n","export const prepareCategoriesForUrl = (categories: any[]) => {\r\n    return categories.map((category) => category.toLowerCase().trim().split(' ').join('-')).join('/');\r\n};\r\n","import { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { createAdUrl } from '../../utils/createAdUrl';\r\nimport { trans } from '../../utils/mocks';\r\n\r\nexport const useGridItem = (item: IMainPageItem) => {\r\n    const t = trans;\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n    const {\r\n        category,\r\n        id,\r\n        title,\r\n        country_name,\r\n        place,\r\n        attributes,\r\n        description,\r\n        listing_type_name,\r\n        default_image,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = item;\r\n    const adUrl = createAdUrl(categoryTree, category, id, title);\r\n    const placeText = [country_name, place].filter(Boolean).join(', ');\r\n    const priorityAttributes = createPriorityAttributesStr(attributes);\r\n    const itemDescription = createDescription(description);\r\n\r\n    const trimmedItemDescription =\r\n        itemDescription.length > 500 ? itemDescription.substring(0, 500) + '...' : itemDescription;\r\n\r\n    return {\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n        t,\r\n    };\r\n};\r\n\r\nconst createPriorityAttributesStr = (attributes: any[]) => {\r\n    const isMetricSystem = true;\r\n    const strArr = attributes.map((attribute) => {\r\n        const { value_formatted, measurement_unit_name, additional_measurement_units } = attribute;\r\n        const [value, unit] = getValueAndUnit(\r\n            value_formatted,\r\n            measurement_unit_name,\r\n            additional_measurement_units,\r\n            isMetricSystem\r\n        );\r\n        let s = value;\r\n        if (unit !== null && unit !== undefined) {\r\n            s += ' ' + unit;\r\n        }\r\n        return s;\r\n    });\r\n    return strArr.join('; ');\r\n};\r\n\r\nconst getValueAndUnit = (\r\n    value_formatted: any,\r\n    measurement_unit_name: any,\r\n    additional_measurement_units: any[],\r\n    isMetricSystem: any\r\n) => {\r\n    if (additional_measurement_units.length === 0) {\r\n        return [value_formatted, measurement_unit_name];\r\n    }\r\n    const additionalMeasurementUnit = additional_measurement_units.find(\r\n        ({ metric_system }) => metric_system === isMetricSystem\r\n    );\r\n    const { value_formatted: value_formatted2, name } = additionalMeasurementUnit || {};\r\n    return [value_formatted2, name];\r\n};\r\n\r\nconst createDescription = (description: string) => {\r\n    const container = document.createElement('div');\r\n    container.innerHTML = description;\r\n    const elements = container.childNodes;\r\n    const textElements = [];\r\n    for (let element of elements as any) {\r\n        let text = '';\r\n        if (element.tagName === 'UL') {\r\n            const innerElements = element.childNodes;\r\n            let innerTextElements = [];\r\n            for (let innerElement of innerElements) {\r\n                const innerText = innerElement.textContent || innerElement.innerText || null;\r\n                if (innerText !== null && innerText.length !== 0) {\r\n                    innerTextElements.push(innerText);\r\n                }\r\n            }\r\n            text = innerTextElements.join(' ');\r\n        } else {\r\n            text = element.textContent || element.innerText || null;\r\n        }\r\n        if (text !== null && text.length !== 0) {\r\n            textElements.push(text);\r\n        }\r\n    }\r\n    return textElements.join(' ');\r\n};\r\n","import { ApiService } from '.';\r\n\r\nexport const getItemMedia = async (itemId: string) => {\r\n    return ApiService<any>('GET', `/view/item_listing/${itemId}/media`);\r\n};\r\n","export const imageBaseUrl = 'https://api.vevergo.com:4443/item_adjusted_images/';\r\n","import { imageBaseUrl } from '../constants/imageBaseUrl';\r\n\r\nexport const createImageUrlByMediaType = (mediaType: number, id: string, videoCode: string) =>\r\n    mediaType === 1 ? imageBaseUrl + id + '.jpeg' : 'https://img.youtube.com/vi/' + videoCode + '/maxresdefault.jpg';\r\n","import { useEffect, useState } from 'react';\r\nimport { getItemMedia } from '../../api/itemMedia';\r\nimport { createImageUrl } from '../../utils/createImageUrl';\r\nimport { createImageUrlByMediaType } from '../../utils/createImageUrlByMediaType';\r\n\r\nexport const useContentImageView = (itemId: string, title: string, defaultImage?: string) => {\r\n    const defaultImgUrl = createImageUrl(defaultImage);\r\n    const [availableImages, setAvailableImages] = useState([\r\n        {\r\n            url: defaultImgUrl,\r\n            alt: title,\r\n            id: defaultImage !== null && defaultImage !== undefined ? defaultImage : 'DEFAULT_IMAGE',\r\n        },\r\n    ]);\r\n    useEffect(() => {\r\n        const getMedia = async () => {\r\n            if (!!defaultImage) {\r\n                const { data } = await getItemMedia(itemId);\r\n                const { error_id } = data;\r\n                if (error_id === 0) {\r\n                    const { items } = data;\r\n                    const images: any[] = [];\r\n                    for (let item of items) {\r\n                        const { id, default: defaultImg, media_type, video_code } = item;\r\n                        if (!defaultImg) {\r\n                            const url = createImageUrlByMediaType(media_type, id, video_code);\r\n                            images.push({ url, alt: title, id });\r\n                        }\r\n                        if (images.length) {\r\n                            setAvailableImages([{ url: defaultImgUrl, alt: title, id: 'DEFAULT_IMAGE' }, ...images]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        getMedia();\r\n    }, [defaultImage, defaultImgUrl, itemId, title]);\r\n    return {\r\n        availableImages,\r\n    };\r\n};\r\n","import { imageBaseUrl } from '../constants/imageBaseUrl';\r\nimport DefaultImage from '../assets/img/jpg.png';\r\n\r\nexport const createImageUrl = (defaultImage?: string) =>\r\n    !!defaultImage ? imageBaseUrl + defaultImage + '.jpeg' : DefaultImage;\r\n","export default \"data:image/png;base64,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\"","import { FC, useCallback, useState } from 'react';\r\nimport { ArrowLeft, ArrowRight } from 'react-feather';\r\nimport { useContentImageView } from './useContentImageView';\r\n\r\ninterface IContentImageView {\r\n    defaultImage: string;\r\n    title: string;\r\n    itemId: string;\r\n}\r\n\r\nexport const ContentImageView: FC<IContentImageView> = ({ defaultImage, title, itemId }) => {\r\n    const { availableImages } = useContentImageView(itemId, title, defaultImage);\r\n    return (\r\n        <div className='content-image-view'>\r\n            {availableImages.length === 1 ? (\r\n                <img\r\n                    key={availableImages[0].id}\r\n                    className='content-image-view__image'\r\n                    src={availableImages[0].url}\r\n                    alt={availableImages[0].alt}\r\n                />\r\n            ) : (\r\n                <MultiImageView images={availableImages} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface IMultiImageViewProps {\r\n    images: { id: string; url: string; alt: string }[];\r\n}\r\n\r\nconst useMultiImageView = (images: { id: string; url: string; alt: string }[]) => {\r\n    const [currentIdx, setCurrentIdx] = useState<number>(0);\r\n    const [className, setClassName] = useState<string>('');\r\n\r\n    const onNext = useCallback(() => {\r\n        const nextIdx = currentIdx === images.length - 1 ? 0 : currentIdx + 1;\r\n        setCurrentIdx(nextIdx);\r\n        setClassName('content-image-view__multi-image-from-rigth');\r\n    }, [currentIdx, images.length]);\r\n\r\n    const onPrev = useCallback(() => {\r\n        const prevIdx = currentIdx === 0 ? images.length - 1 : currentIdx - 1;\r\n        setCurrentIdx(prevIdx);\r\n        setClassName('content-image-view__multi-image-from-left');\r\n    }, [currentIdx, images.length]);\r\n    return {\r\n        className,\r\n        currentIdx,\r\n        onNext,\r\n        onPrev,\r\n    };\r\n};\r\n\r\nconst MultiImageView: FC<IMultiImageViewProps> = ({ images }) => {\r\n    const { className, currentIdx, onNext, onPrev } = useMultiImageView(images);\r\n    return (\r\n        <div className='content-image-view__multi'>\r\n            <img\r\n                key={images[currentIdx].id}\r\n                className={`content-image-view__multi-image ${className}`}\r\n                src={images[currentIdx].url}\r\n                alt={images[currentIdx].alt}\r\n            />\r\n            <ArrowLeft\r\n                className='content-image-view__multi-arrow-left'\r\n                onClick={(e: any) => {\r\n                    e.preventDefault();\r\n                    onPrev();\r\n                }}\r\n                size={28}\r\n            />\r\n            <ArrowRight\r\n                className='content-image-view__multi-arrow-right'\r\n                onClick={(e: any) => {\r\n                    e.preventDefault();\r\n                    onNext();\r\n                }}\r\n                size={28}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { Card } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGridItem } from './useGridItem';\r\nimport { ContentImageView } from '../content-image-view';\r\nimport { MapPin } from 'react-feather';\r\n\r\ninterface IGridItem {\r\n    item: IMainPageItem;\r\n}\r\n\r\nconst userCurrencyName = null;\r\n\r\nexport const GridItem: FC<IGridItem> = ({ item }) => {\r\n    const {\r\n        t,\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = useGridItem(item);\r\n    return (\r\n        <Card className=\"grid-item\">\r\n            <Link to={adUrl}>\r\n                {' '}\r\n                <div className=\"card-content\">\r\n                    <h6 className=\"item-title\" title={title}>\r\n                        <strong>{listing_type_name}:</strong> {title}\r\n                    </h6>\r\n                    <ContentImageView defaultImage={default_image} title={title} itemId={id} />\r\n                    <div className=\"item-price-wrapper\">\r\n                        <h6 className=\"item-price\">\r\n                            {currency_name === userCurrencyName\r\n                                ? price_formatted\r\n                                : converted_price_formatted === null && price_formatted === null\r\n                                ? null\r\n                                : `≈ ${converted_price_formatted}`}{' '}\r\n                            {converted_price_formatted === null && price_formatted === null\r\n                                ? price_by_agreement === true\r\n                                    ? t('lblPriceByAgreement')\r\n                                    : null\r\n                                : userCurrencyName}\r\n                            {measurement_unit_name !== null && '/'}\r\n                            {measurement_unit_name}\r\n                        </h6>\r\n                        {currency_name !== userCurrencyName && (\r\n                            <h6 className=\"item-price-second\">\r\n                                {price_formatted} {currency_name}\r\n                                {measurement_unit_name !== null && '/'}\r\n                                {measurement_unit_name}\r\n                            </h6>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"item-main-wrapper\">\r\n                        <h6 className=\"item-title\" title={title}>\r\n                            <strong>{listing_type_name}:</strong> {title}\r\n                        </h6>\r\n                        {priorityAttributes && (\r\n                            <span className=\"item-attributes\" title={priorityAttributes}>\r\n                                {priorityAttributes}\r\n                            </span>\r\n                        )}\r\n                        <span className=\"item-description\" title={itemDescription}>\r\n                            {trimmedItemDescription}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item-additional-content\">\r\n                        <div className=\"item-additional-content\">\r\n                            <div className=\"item-owner-wrapper\">\r\n                                <p className=\"item-owner\">\r\n                                    <span>{t('lblPostedBy')}: </span>\r\n                                    {owner_nickname}\r\n                                    {owner_name !== null ? ` (${owner_name})` : ''}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"item-location-wrapper\">\r\n                                <MapPin size={15} className=\"item-location-pin\" />\r\n                                <span className=\"item-location\">{placeText}</span>\r\n                            </div>\r\n                            <div className=\"item-created-wrapper\">\r\n                                <div className=\"item-created-desktop\">\r\n                                    <span className=\"item-created\">\r\n                                        {t('lblCreated')}: <strong>{create_date_formatted}</strong>\r\n                                    </span>\r\n                                    <span className=\"item-created\">\r\n                                        {t('lblViews')}: <strong>{view_count}</strong>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"item-created-mobile\">\r\n                                    <span className=\"item-created\">\r\n                                        {t('lblCreated')}: <strong>{create_date_formatted}</strong>, {t('lblViews')}:{' '}\r\n                                        <strong>{view_count}</strong>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </Card>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { GridItem } from '../grid-item';\r\n\r\nimport './GridItems.css';\r\n\r\ninterface IGridItemsProps {\r\n    items: IMainPageItem[];\r\n}\r\n\r\nexport const GridItems: FC<IGridItemsProps> = ({ items }) => {\r\n    return (\r\n        <div className=\"grid-items\">\r\n            {items.map((item, idx) => (\r\n                <GridItem key={item.id + '_' + idx} item={item} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","import { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { createAdUrl } from '../../utils/createAdUrl';\r\nimport { trans } from '../../utils/mocks';\r\n\r\nexport const useListItem = (item: IMainPageItem) => {\r\n    const t = trans;\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n    const {\r\n        category,\r\n        id,\r\n        title,\r\n        country_name,\r\n        place,\r\n        attributes,\r\n        description,\r\n        listing_type_name,\r\n        default_image,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = item;\r\n    const adUrl = createAdUrl(categoryTree, category, id, title);\r\n    const placeText = [country_name, place].filter(Boolean).join(', ');\r\n    const priorityAttributes = createPriorityAttributesStr(attributes);\r\n    const itemDescription = createDescription(description);\r\n\r\n    const trimmedItemDescription =\r\n        itemDescription.length > 500 ? itemDescription.substring(0, 500) + '...' : itemDescription;\r\n\r\n    return {\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n        t,\r\n    };\r\n};\r\n\r\nconst createPriorityAttributesStr = (attributes: any[]) => {\r\n    const isMetricSystem = true;\r\n    const strArr = attributes.map((attribute) => {\r\n        const { value_formatted, measurement_unit_name, additional_measurement_units } = attribute;\r\n        const [value, unit] = getValueAndUnit(\r\n            value_formatted,\r\n            measurement_unit_name,\r\n            additional_measurement_units,\r\n            isMetricSystem,\r\n        );\r\n        let s = value;\r\n        if (unit !== null && unit !== undefined) {\r\n            s += ' ' + unit;\r\n        }\r\n        return s;\r\n    });\r\n    return strArr.join('; ');\r\n};\r\n\r\nconst getValueAndUnit = (\r\n    value_formatted: any,\r\n    measurement_unit_name: any,\r\n    additional_measurement_units: any[],\r\n    isMetricSystem: any,\r\n) => {\r\n    if (additional_measurement_units.length === 0) {\r\n        return [value_formatted, measurement_unit_name];\r\n    }\r\n    const additionalMeasurementUnit = additional_measurement_units.find(\r\n        ({ metric_system }) => metric_system === isMetricSystem,\r\n    );\r\n    const { value_formatted: value_formatted2, name } = additionalMeasurementUnit || {};\r\n    return [value_formatted2, name];\r\n};\r\n\r\nconst createDescription = (description: string) => {\r\n    const container = document.createElement('div');\r\n    container.innerHTML = description;\r\n    const elements = container.childNodes;\r\n    const textElements = [];\r\n    for (let element of elements as any) {\r\n        let text = '';\r\n        if (element.tagName === 'UL') {\r\n            const innerElements = element.childNodes;\r\n            let innerTextElements = [];\r\n            for (let innerElement of innerElements) {\r\n                const innerText = innerElement.textContent || innerElement.innerText || null;\r\n                if (innerText !== null && innerText.length !== 0) {\r\n                    innerTextElements.push(innerText);\r\n                }\r\n            }\r\n            text = innerTextElements.join(' ');\r\n        } else {\r\n            text = element.textContent || element.innerText || null;\r\n        }\r\n        if (text !== null && text.length !== 0) {\r\n            textElements.push(text);\r\n        }\r\n    }\r\n    return textElements.join(' ');\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { Card } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useListItem } from './useListItem';\r\nimport { ContentImageView } from '../content-image-view';\r\nimport { MapPin } from 'react-feather';\r\n\r\ninterface IListItem {\r\n    item: IMainPageItem;\r\n}\r\n\r\nconst userCurrencyName = null;\r\n\r\nexport const ListItem: FC<IListItem> = ({ item }) => {\r\n    const {\r\n        t,\r\n        adUrl,\r\n        placeText,\r\n        priorityAttributes,\r\n        trimmedItemDescription,\r\n        listing_type_name,\r\n        default_image,\r\n        title,\r\n        id,\r\n        itemDescription,\r\n        currency_name,\r\n        price_formatted,\r\n        converted_price_formatted,\r\n        price_by_agreement,\r\n        measurement_unit_name,\r\n        owner_nickname,\r\n        owner_name,\r\n        create_date_formatted,\r\n        view_count,\r\n    } = useListItem(item);\r\n    return (\r\n        <Card className=\"list-item\">\r\n            <Link to={adUrl}>\r\n                {' '}\r\n                <div className=\"card-content\">\r\n                    <ContentImageView defaultImage={default_image} title={title} itemId={id} />\r\n                    <div className=\"item-main-wrapper\">\r\n                        <h6 className=\"item-title\" title={title}>\r\n                            <strong>{listing_type_name}:</strong> {title}\r\n                        </h6>\r\n                        {priorityAttributes && (\r\n                            <span className=\"item-attributes\" title={priorityAttributes}>\r\n                                {priorityAttributes}\r\n                            </span>\r\n                        )}\r\n                        <span className=\"item-description\" title={itemDescription}>\r\n                            {trimmedItemDescription}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item-additional-content\">\r\n                        <div className=\"item-price-wrapper\">\r\n                            <h6 className=\"item-price\">\r\n                                {currency_name === userCurrencyName\r\n                                    ? price_formatted\r\n                                    : converted_price_formatted === null && price_formatted === null\r\n                                    ? null\r\n                                    : `≈ ${converted_price_formatted}`}{' '}\r\n                                {converted_price_formatted === null && price_formatted === null\r\n                                    ? price_by_agreement === true\r\n                                        ? t('lblPriceByAgreement')\r\n                                        : null\r\n                                    : userCurrencyName}\r\n                                {measurement_unit_name !== null && '/'}\r\n                                {measurement_unit_name}\r\n                            </h6>\r\n                            {currency_name !== userCurrencyName && (\r\n                                <h6 className=\"item-price-second\">\r\n                                    {price_formatted} {currency_name}\r\n                                    {measurement_unit_name !== null && '/'}\r\n                                    {measurement_unit_name}\r\n                                </h6>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"item-owner-wrapper\">\r\n                            <p className=\"item-owner\">\r\n                                <span>{t('lblPostedBy')}: </span>\r\n                                {owner_nickname}\r\n                                {owner_name !== null ? ` (${owner_name})` : ''}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"item-location-wrapper\">\r\n                            <MapPin size={15} className=\"item-location-pin\" />\r\n                            <span className=\"item-location\">{placeText}</span>\r\n                        </div>\r\n                        <div className=\"item-created-wrapper\">\r\n                            <div className=\"item-created-desktop\">\r\n                                <span className=\"item-created\">\r\n                                    {t('lblCreated')}: <strong>{create_date_formatted}</strong>\r\n                                </span>\r\n                                <span className=\"item-created\">\r\n                                    {t('lblViews')}: <strong>{view_count}</strong>\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"item-created-mobile\">\r\n                                <span className=\"item-created\">\r\n                                    {t('lblCreated')}: <strong>{create_date_formatted}</strong>, {t('lblViews')}:{' '}\r\n                                    <strong>{view_count}</strong>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </Card>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { ListItem } from '../list-item';\r\n\r\nimport './ListItems.css';\r\n\r\ninterface IListItemsProps {\r\n    items: IMainPageItem[];\r\n}\r\n\r\nexport const ListItems: FC<IListItemsProps> = ({ items }) => {\r\n    return (\r\n        <div className='list-items'>\r\n            {items.map((item, idx) => (\r\n                <ListItem key={item.id + '_' + idx} item={item} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","import { FC } from 'react';\r\nimport {\r\n    Truck,\r\n    Target,\r\n    Monitor,\r\n    ShoppingCart,\r\n    Home,\r\n    Server,\r\n    Coffee,\r\n    Users,\r\n    Wind,\r\n    Feather,\r\n    Grid,\r\n    Anchor,\r\n    Circle,\r\n} from 'react-feather';\r\n\r\ninterface ICategoryIconProps {\r\n    itemIcon: string;\r\n}\r\n\r\nexport const CategoryIcon: FC<ICategoryIconProps> = ({ itemIcon }) => {\r\n    // Truck, Target, Monitor, ShoppingCart, Home, Server, Grid, Coffee, Users, Anchor, Wind, Feather\r\n    const iconSize = 14;\r\n    switch (itemIcon) {\r\n        case 'Truck':\r\n            return <Truck size={iconSize}></Truck>;\r\n        case 'Target':\r\n            return <Target size={iconSize}></Target>;\r\n        case 'Monitor':\r\n            return <Monitor size={iconSize}></Monitor>;\r\n        case 'ShoppingCart':\r\n            return <ShoppingCart size={iconSize}></ShoppingCart>;\r\n        case 'Home':\r\n            return <Home size={iconSize}></Home>;\r\n        case 'Server':\r\n            return <Server size={iconSize}></Server>;\r\n        case 'Grid':\r\n            return <Grid size={iconSize}></Grid>;\r\n        case 'Coffee':\r\n            return <Coffee size={iconSize}></Coffee>;\r\n        case 'Users':\r\n            return <Users size={iconSize}></Users>;\r\n        case 'Anchor':\r\n            return <Anchor size={iconSize}></Anchor>;\r\n        case 'Wind':\r\n            return <Wind size={iconSize}></Wind>;\r\n        case 'Feather':\r\n            return <Feather size={iconSize}></Feather>;\r\n        default:\r\n            return <Circle size={10}></Circle>;\r\n    }\r\n};\r\n","import { FC } from 'react';\r\n\r\nimport { useSidebar } from './useSidebar';\r\n\r\nimport './Sidebar.css';\r\nimport { Circle, Disc, ChevronRight, ChevronDown, X, Menu } from 'react-feather';\r\nimport { CategoryIcon } from '../category-icon/CategoryIcon';\r\nimport { Button } from 'antd';\r\nimport Hammer from 'react-hammerjs';\r\n\r\nexport const Sidebar: FC = () => {\r\n    const {\r\n        onItemClick,\r\n        docked,\r\n        open,\r\n        onDockedClick,\r\n        onSidebarMouseEnter,\r\n        onSidebarMouseLeave,\r\n        sidebarClassName,\r\n        sidebarTree,\r\n        onFilterClick,\r\n        t,\r\n        onSwipe,\r\n        isMobile,\r\n        isHome,\r\n    } = useSidebar();\r\n    return (\r\n        <>\r\n            <Hammer onSwipe={onSwipe}>\r\n                <div className=\"sidebar__hammer\"></div>\r\n            </Hammer>\r\n            {isHome && (\r\n                <div className=\"sidebar__mobile-menu\" onClick={onSwipe}>\r\n                    <Menu size={26} />\r\n                </div>\r\n            )}\r\n            <div className={sidebarClassName}>\r\n                <div className=\"sidebar__header\" onMouseEnter={onSidebarMouseEnter} onMouseLeave={onSidebarMouseLeave}>\r\n                    {(docked || open) && (\r\n                        <>\r\n                            <span className=\"sidebar__header-title\">Vevergo</span>\r\n                            <div className=\"sidebar__header-icon\" onClick={isMobile ? onSwipe : onDockedClick}>\r\n                                {isMobile ? <X /> : docked ? <Disc /> : <Circle />}\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <div className=\"sidebar__content\">\r\n                    {sidebarTree.map((item) => (\r\n                        <SidebarItem\r\n                            key={item.id}\r\n                            first\r\n                            item={item}\r\n                            onItemClick={onItemClick}\r\n                            docked={docked}\r\n                            open={open}\r\n                        />\r\n                    ))}\r\n                </div>\r\n                {(docked || open) && (\r\n                    <div className=\"sidebar__footer\">\r\n                        <Button onClick={onFilterClick} className=\"sidebar__footer-button\">\r\n                            {t('lblFilter')}\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst SidebarItem: FC<any> = ({ item, onItemClick, docked, open, first }) => {\r\n    const { id, name, type, children, icon, active } = item;\r\n    return (\r\n        <>\r\n            <div\r\n                key={id}\r\n                className={`sidebar__content-item ${\r\n                    active\r\n                        ? type === 'collapse'\r\n                            ? 'sidebar__content-item-active'\r\n                            : 'sidebar__content-item-active-last'\r\n                        : ''\r\n                }`}\r\n                onClick={() => onItemClick(id)}\r\n            >\r\n                <div className=\"sidebar__content-item-label\">\r\n                    <div className=\"sidebar__content-item-icon\">\r\n                        <CategoryIcon itemIcon={icon} />\r\n                    </div>\r\n                    {(docked || open) && <span>{name}</span>}\r\n                </div>\r\n                {(docked || open) &&\r\n                    type !== 'item' &&\r\n                    (active ? <ChevronDown size={14} /> : <ChevronRight size={14} />)}\r\n            </div>\r\n            {active && children && !first && (\r\n                <div className=\"sidebar__content-item-sub\">\r\n                    {(children as any[]).map((child) => (\r\n                        <SidebarItem item={child} onItemClick={onItemClick} docked={docked} open={open} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport { Category } from '../../redux/reducers/categoryTreeReducer';\r\nimport { setOpen, toggleDocked } from '../../redux/reducers/sidebarReducer';\r\nimport { findSelectedIds } from '../../utils/findSelectedIds';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\nimport { trans } from '../../utils/mocks';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\n\r\ninterface ISidebarItem {\r\n    icon: string;\r\n    id: number;\r\n    name: string;\r\n    children: ISidebarItem[];\r\n    type: 'collapse' | 'item';\r\n    active: boolean;\r\n}\r\n\r\nexport const useSidebar = () => {\r\n    const t = trans;\r\n    const { goTo, path } = useAppHistory();\r\n    const dispatch = useAppDispatch();\r\n    const isMobile = useIsMobile();\r\n    const sidebarState = useAppSelector((state) => state.sidebar);\r\n    const [swipe, setSwipe] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        if (isMobile) {\r\n            setSwipe(false);\r\n        }\r\n    }, [isMobile]);\r\n\r\n    const categoryTree = useAppSelector((state) => state.categoryTree.tree);\r\n\r\n    const [selected, setSelected] = useState<number[]>([]);\r\n\r\n    const docked = useMemo(() => {\r\n        if (isMobile) {\r\n            return true;\r\n        }\r\n        return sidebarState?.docked;\r\n    }, [sidebarState?.docked, isMobile]);\r\n\r\n    const open = useMemo(() => {\r\n        // if (isMobile) {\r\n        //     return swipe;\r\n        // }\r\n        return sidebarState?.open;\r\n    }, [sidebarState?.open]);\r\n\r\n    const onDockedClick = useCallback(() => {\r\n        dispatch(toggleDocked());\r\n    }, [dispatch]);\r\n\r\n    const onSidebarMouseEnter = useCallback(() => {\r\n        dispatch(setOpen(true));\r\n    }, [dispatch]);\r\n\r\n    const onSidebarMouseLeave = useCallback(() => {\r\n        dispatch(setOpen(false));\r\n    }, [dispatch]);\r\n\r\n    const sidebarClassName = useMemo(() => {\r\n        if (isMobile) return swipe ? 'sidebar sidebar-mobile-open' : 'sidebar sidebar-mobile';\r\n        return docked || open ? 'sidebar sidebar-docked' : 'sidebar sidebar-undocked';\r\n    }, [docked, isMobile, open, swipe]);\r\n\r\n    const createSidebarItem = useCallback(\r\n        (item: Category): ISidebarItem => {\r\n            const { children, icon, id, name, is_last } = item;\r\n            const itemChildren: ISidebarItem[] = is_last\r\n                ? []\r\n                : children.map((child: Category) => createSidebarItem(child));\r\n            return {\r\n                id,\r\n                name,\r\n                icon,\r\n                children: itemChildren,\r\n                type: is_last ? 'item' : 'collapse',\r\n                active: selected.includes(id),\r\n            };\r\n        },\r\n        [selected]\r\n    );\r\n\r\n    const sidebarTree = useMemo(\r\n        () =>\r\n            categoryTree.map((item) => {\r\n                return createSidebarItem(item);\r\n            }),\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [selected]\r\n    );\r\n\r\n    const onItemClick = useCallback(\r\n        (id: number) => {\r\n            const selectedIds = findSelectedIds(categoryTree, id);\r\n            setSelected(selectedIds);\r\n        },\r\n        [categoryTree]\r\n    );\r\n\r\n    const onFilterClick = useCallback(() => {\r\n        goTo(path, false, { sidebarFilters: selected });\r\n    }, [goTo, path, selected]);\r\n\r\n    const onSwipe = useCallback(() => {\r\n        setSwipe(!swipe);\r\n    }, [swipe]);\r\n\r\n    const isHome = useMemo(() => isMobile && path === '/', [isMobile, path]);\r\n\r\n    console.log(swipe);\r\n\r\n    return {\r\n        docked,\r\n        open,\r\n        onDockedClick,\r\n        onSidebarMouseEnter,\r\n        onSidebarMouseLeave,\r\n        sidebarClassName,\r\n        sidebarTree,\r\n        onItemClick,\r\n        onFilterClick,\r\n        t,\r\n        isMobile,\r\n        onSwipe,\r\n        isHome,\r\n    };\r\n};\r\n","export const sortByOptions = [\r\n    { value: 1, label: 'lblDateModifiedNewer', orderType: 0 },\r\n    { value: 0, label: 'lblDateModifiedOlder', orderType: 1 },\r\n    { value: 3, label: 'lblPriceLower', orderType: 0, orderItem: 1 },\r\n    { value: 2, label: 'lblPriceHighest', orderType: 1, orderItem: 1 },\r\n    { value: 5, label: 'lblRelevanceLeast', orderType: 0, orderItem: 2 },\r\n    { value: 4, label: 'lblRelevanceMost', orderType: 1, orderItem: 2 },\r\n    { value: 7, label: 'lblTitleAsc', orderType: 0, orderItem: 3 },\r\n    { value: 6, label: 'lblTitleDesc', orderType: 1, orderItem: 3 },\r\n    { value: 9, label: 'lblViewsLowest', orderType: 0, orderItem: 4 },\r\n    {\r\n        value: 8,\r\n        label: 'lblViewsHighest',\r\n        orderType: 1,\r\n        orderItem: 4,\r\n    },\r\n];\r\n","import { FC } from 'react';\r\nimport { useSortBy } from './useSortBy';\r\nimport './SortBy.css';\r\nimport { sortByOptions } from '../../constants/sortByOptions';\r\nimport { X } from 'react-feather';\r\n\r\nexport const SortBy: FC = () => {\r\n    const { open, toggleOpen, t, currRef, setActiveSort, sortValue, sortValueId } = useSortBy();\r\n    return (\r\n        <div ref={currRef} className=\"sort-by\">\r\n            <div className=\"sort-by__button\" onClick={() => toggleOpen()}>\r\n                {!!sortValue ? t(sortValue) : t('lblSortBy')}\r\n                {!!sortValue && (\r\n                    <X\r\n                        className=\"sort-by__close\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setActiveSort(undefined);\r\n                        }}\r\n                    />\r\n                )}\r\n                {open ? <OpenArrow /> : <ClosedArrow />}\r\n            </div>\r\n            {open && (\r\n                <div className=\"sort-by__list\">\r\n                    {sortByOptions.map(({ value, label }) => (\r\n                        <div\r\n                            key={value}\r\n                            className={`sort-by__item${sortValueId === value ? ' sort-by__item-active' : ''}`}\r\n                            onClick={() => setActiveSort(value)}\r\n                        >\r\n                            {label}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst OpenArrow: FC = () => <span className=\"sort-by__button-open\" />;\r\nconst ClosedArrow: FC = () => <span className=\"sort-by__button-closed\" />;\r\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { sortByOptions } from '../../constants/sortByOptions';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport { setSort } from '../../redux/reducers/homeViewReducer';\r\nimport { trans } from '../../utils/mocks';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\nimport { useOutsideClickListener } from '../../utils/useOutsideClickListener';\r\n\r\nexport const useSortBy = () => {\r\n    const { state, goTo, path } = useAppHistory();\r\n    const t = trans;\r\n    const sortValueId = useAppSelector((state) => state.homeView.sortValue);\r\n    const dispatch = useAppDispatch();\r\n    const isMobile = useIsMobile();\r\n    const [open, setOpen] = useState(false);\r\n    const currRef = useRef(null);\r\n\r\n    const toggleOpen = useCallback(\r\n        (forceClose?: boolean) => {\r\n            if (forceClose) {\r\n                setOpen(false);\r\n                return;\r\n            }\r\n            setOpen(!open);\r\n        },\r\n        [open]\r\n    );\r\n\r\n    const setActiveSort = useCallback(\r\n        (value: number | undefined) => {\r\n            goTo(path, false, { sortBy: value });\r\n            toggleOpen(true);\r\n        },\r\n        [goTo, path, toggleOpen]\r\n    );\r\n\r\n    const sortValue = useMemo(() => {\r\n        return sortByOptions.find(({ value }) => value === sortValueId)?.label;\r\n    }, [sortValueId]);\r\n\r\n    useOutsideClickListener(currRef, isMobile ? undefined : () => toggleOpen(true));\r\n\r\n    useEffect(() => {\r\n        dispatch(setSort(state?.sortBy));\r\n    }, [dispatch, state]);\r\n\r\n    return {\r\n        setActiveSort,\r\n        open,\r\n        toggleOpen,\r\n        currRef,\r\n        t,\r\n        sortValue,\r\n        sortValueId,\r\n    };\r\n};\r\n","import { AxiosResponse } from 'axios';\r\nimport { ApiService } from '.';\r\nimport { sortByOptions } from '../constants/sortByOptions';\r\nimport { IMainPageData } from '../dto/mainPageDto';\r\nimport { getAcceptLanguageHeaders } from './utils';\r\n\r\ninterface Params {\r\n    start?: number;\r\n    sortBy?: number;\r\n    searchText?: string;\r\n    currency: number;\r\n}\r\n\r\nconst getMainPageItems = async (params?: Params): Promise<AxiosResponse<IMainPageData>> => {\r\n    const { start, sortBy, searchText, currency } = params ?? {};\r\n    const headers = getAcceptLanguageHeaders();\r\n\r\n    const inputParams: any = {};\r\n\r\n    if (start) {\r\n        inputParams['start'] = start;\r\n    }\r\n\r\n    if (sortBy) {\r\n        const { orderType, orderItem } = sortByOptions.find(({ value }) => value === sortBy)!;\r\n        inputParams['order_type'] = orderType;\r\n        inputParams['order_item'] = orderItem;\r\n    }\r\n\r\n    if (searchText) {\r\n        inputParams['search_text'] = searchText;\r\n    }\r\n\r\n    const url = Object.keys(inputParams).length === 0 ? 'view/recent_item_listings' : 'view/search_item_listings';\r\n    const method = Object.keys(inputParams).length === 0 ? 'GET' : 'POST';\r\n\r\n    inputParams['currency'] = currency;\r\n\r\n    return ApiService<IMainPageData>(method, url, inputParams, null, headers);\r\n};\r\n\r\nexport { getMainPageItems };\r\n","import { FC } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { Breadcrumbs } from '../../components/breadcrumbs';\r\nimport { ChangeListGridView } from '../../components/change-list-grid-view';\r\nimport { GridItems } from '../../components/grid-items';\r\nimport { ListItems } from '../../components/list-items';\r\nimport { Sidebar } from '../../components/sidebar';\r\nimport { SortBy } from '../../components/sort-by';\r\n\r\nimport './Home.css';\r\nimport { useHome } from './useHome';\r\n\r\nconst Home: FC = () => {\r\n    const { items = [], totalCount, t, getNextItems, activeView, isMobile, homeClassName } = useHome();\r\n    return (\r\n        <div className=\"home\">\r\n            <Sidebar />\r\n            <div className=\"home__breadcrumbs\">\r\n                <Breadcrumbs />\r\n            </div>\r\n            <div className={homeClassName}>\r\n                <div className=\"home__header\">\r\n                    <span className=\"home__total-count\">\r\n                        {totalCount} {t('lblResultsFound')}\r\n                    </span>\r\n                    {!isMobile && (\r\n                        <div className=\"home__actions\">\r\n                            <SortBy />\r\n                            <ChangeListGridView />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                {items.length !== 0 && (\r\n                    <InfiniteScroll\r\n                        dataLength={items.length}\r\n                        next={getNextItems}\r\n                        hasMore={items.length < totalCount}\r\n                        loader={<h4>Loading...</h4>}\r\n                    >\r\n                        {activeView === 'grid' || isMobile ? <GridItems items={items} /> : <ListItems items={items} />}\r\n                    </InfiniteScroll>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { getMainPageItems } from '../../api/mainPageItems';\r\nimport { useIsMobile } from '../../context/useIsMobile';\r\nimport { IMainPageItem } from '../../dto/mainPageDto';\r\nimport { useAppSelector } from '../../redux/hooks';\r\nimport { trans } from '../../utils/mocks';\r\n\r\nexport const useHome = () => {\r\n    const t = trans;\r\n    const isMobile = useIsMobile();\r\n    const searchText = useAppSelector((state) => state.mainPageFilter.searchText);\r\n    const sidebar = useAppSelector((state) => state.sidebar);\r\n    const sortBy = useAppSelector((state) => state.homeView.sortValue);\r\n    const activeView = useAppSelector((state) => state.homeView.active);\r\n    const currency = useAppSelector((state) => state.currencies.active);\r\n    const [start, setStart] = useState<number | undefined>(undefined);\r\n    const [items, setItems] = useState<IMainPageItem[]>([]);\r\n    const [totalCount, setTotalCount] = useState<number>(0);\r\n\r\n    const getNextItems = useCallback(async () => {\r\n        try {\r\n            const response = await getMainPageItems({ start, currency });\r\n            const elems = response.data.items;\r\n            setItems(items.concat(elems));\r\n            setStart(start ?? 0 + 10);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }, [currency, items, start]);\r\n\r\n    useEffect(() => {\r\n        const getItems = async () => {\r\n            try {\r\n                const response = await getMainPageItems({ sortBy, searchText, currency });\r\n                const elems = response.data.items;\r\n                const total = response.data.total_count;\r\n                setItems(elems);\r\n                setTotalCount(total);\r\n                setStart(undefined);\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        };\r\n        getItems();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [sortBy, searchText, currency]);\r\n\r\n    const homeClassName = useMemo(() => {\r\n        if (isMobile) {\r\n            return 'home__content';\r\n        }\r\n        if (sidebar?.docked || sidebar?.open) {\r\n            return 'home__content home__content-docked';\r\n        }\r\n        return 'home__content home__content-undocked';\r\n    }, [isMobile, sidebar?.docked, sidebar?.open]);\r\n\r\n    return {\r\n        homeClassName,\r\n        items,\r\n        totalCount,\r\n        t,\r\n        getNextItems,\r\n        start,\r\n        activeView,\r\n        isMobile,\r\n    };\r\n};\r\n"],"sourceRoot":""}