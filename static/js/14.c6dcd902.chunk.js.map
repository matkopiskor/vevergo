{"version":3,"sources":["components/input/Input.tsx","../node_modules/react-feather/dist/icons/mail.js","../node_modules/react-feather/dist/icons/lock.js","api/login.ts","pages/login/Login.tsx","pages/login/useLogin.ts"],"names":["Input","props","label","onChange","value","placeholder","type","name","labelClassName","inputClassName","Prefix","disabled","infoText","required","className","title","InfoCircleOutlined","prefix","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Mail","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","points","propTypes","PropTypes","string","oneOfType","number","displayName","Lock","x","y","rx","ry","login","params","a","extraHeaders","iss_email","email","iss_password","password","ApiService","method","url","Item","Form","Login","onLogin","dispatch","useAppDispatch","goTo","useAppHistory","useCallback","values","response","data","error_id","items","headers","token","getCultureDataOnLogin","cultureDataResponse","getPrivacyOnLogin","privacyResponse","cultureData","privacy","setData","fetchOrgs","useLogin","t","useTranslation","isMobile","useIsMobile","src","ImgLogin","alt","onFinish","href","htmlType"],"mappings":"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","file":"static/js/14.c6dcd902.chunk.js","sourcesContent":["import { ChangeEventHandler, FC } from 'react';\nimport { Input as AntInput, Tooltip } from 'antd';\n\nimport './Input.css';\nimport { InfoCircleOutlined } from '@ant-design/icons';\n\ninterface Props {\n    label?: string;\n    onChange?: ChangeEventHandler<HTMLInputElement>;\n    value?: string | number | undefined;\n    placeholder?: string;\n    type?: string;\n    name?: string;\n    labelClassName?: string;\n    inputClassName?: string;\n    Prefix?: JSX.Element;\n    disabled?: boolean;\n    infoText?: string;\n    required?: boolean;\n}\n\nexport const Input: FC<Props> = (props) => {\n    const {\n        label,\n        onChange,\n        value,\n        placeholder,\n        type = 'text',\n        name,\n        labelClassName = '',\n        inputClassName = '',\n        Prefix,\n        disabled,\n        infoText,\n        required,\n    } = props;\n    return (\n        <div className=\"input__wrapper\">\n            <div className=\"info-text-wrapper\">\n                <div>\n                    <label className={`input__label ${labelClassName}`}>{label}</label>\n                    {required && <span className=\"input__label-required\">*</span>}\n                </div>\n                {infoText && (\n                    <Tooltip title={infoText}>\n                        <InfoCircleOutlined />\n                    </Tooltip>\n                )}\n            </div>\n\n            <AntInput\n                type={type}\n                className={`input__select ${inputClassName}`}\n                onChange={onChange}\n                value={value}\n                placeholder={placeholder}\n                name={name}\n                prefix={Prefix}\n                disabled={disabled}\n            />\n        </div>\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Mail = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"22,6 12,13 2,6\"\n  }));\n});\nMail.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMail.displayName = 'Mail';\nexport default Mail;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Lock = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"3\",\n    y: \"11\",\n    width: \"18\",\n    height: \"11\",\n    rx: \"2\",\n    ry: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n  }));\n});\nLock.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nLock.displayName = 'Lock';\nexport default Lock;","import { ApiService } from '.';\n\ninterface ILoginParams {\n    email: string;\n    password: string;\n}\n\nexport const login = async (params: ILoginParams) => {\n    const extraHeaders = {\n        iss_email: params.email,\n        iss_password: params.password,\n    };\n\n    return ApiService<any>({ method: 'GET', url: 'user/login', extraHeaders });\n};\n","import { FC } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLogin } from './useLogin';\nimport './Login.css';\nimport { Button, Form } from 'antd';\nimport { Input } from '../../components/input';\nimport { Mail, Lock } from 'react-feather';\nimport { ImgLogin } from '../../assets';\nimport { useIsMobile } from '../../context/useIsMobile';\n\nconst { Item } = Form;\n\nconst Login: FC = () => {\n    const { onLogin } = useLogin();\n    const { t } = useTranslation();\n    const isMobile = useIsMobile();\n    return (\n        <div className=\"login\">\n            {!isMobile && (\n                <div className=\"login__image\">\n                    <img src={ImgLogin} alt=\"Login img\" />\n                </div>\n            )}\n            <div className=\"login__form\">\n                <h4 className=\"login__form-title\">{t('lblLogin')}</h4>\n                <p className=\"login__form-description\">{t('lblLoginDescription')}</p>\n                <Form name=\"login-form\" onFinish={onLogin}>\n                    <Item name=\"email\">\n                        <Input\n                            type=\"email\"\n                            placeholder={t('lblEmail')}\n                            label={t('lblEmail')}\n                            labelClassName=\"login__form-input-label\"\n                            inputClassName=\"login__form-input\"\n                            Prefix={<Mail size={16} className=\"login__form-input-icon\" />}\n                        />\n                    </Item>\n                    <Item name=\"password\">\n                        <Input\n                            type=\"password\"\n                            placeholder={t('lblPassword')}\n                            label={t('lblPassword')}\n                            labelClassName=\"login__form-input-label\"\n                            inputClassName=\"login__form-input\"\n                            Prefix={<Lock size={16} className=\"login__form-input-icon\" />}\n                        />\n                    </Item>\n                    <div className=\"login__form-actions\">\n                        <span className=\"login__form-modal-action\">{t('lblReactivateQuestion')}</span>\n                        <a href=\"/register\" className=\"login__form-modal-action\">\n                            {t('lblForgotPassword')}\n                        </a>\n                    </div>\n                    <div className=\"login__form-actions login__form-actions-buttons\">\n                        <Button className=\"login__form-register\" htmlType=\"button\">\n                            {t('lblRegister')}\n                        </Button>\n                        <Button className=\"login__form-login\" htmlType=\"submit\">\n                            {t('lblLogin')}\n                        </Button>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n","import { useCallback } from 'react';\nimport { getCultureDataOnLogin } from '../../api/cultureData';\nimport { login } from '../../api/login';\nimport { getPrivacyOnLogin } from '../../api/privacy';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { fetchOrgs } from '../../redux/reducers/organizationsReducer';\nimport { setData } from '../../redux/reducers/userReducer';\nimport { useAppHistory } from '../../utils/useAppHistory';\n\nexport const useLogin = () => {\n    const dispatch = useAppDispatch();\n    const { goTo } = useAppHistory();\n    const onLogin = useCallback(\n        async (values: any) => {\n            const response = await login(values);\n            const {\n                data: { error_id, items },\n                headers,\n            } = response;\n            if (error_id !== 0) {\n                // TODO\n            } else {\n                const token = headers['iss_authentication_token'];\n                const cultureDataResponse = await getCultureDataOnLogin(token);\n                const privacyResponse = await getPrivacyOnLogin(token);\n                const data: any = {\n                    data: items[0],\n                    token,\n                };\n                if (cultureDataResponse.data.items.length !== 0) {\n                    data.cultureData = cultureDataResponse.data.items[0];\n                }\n                if (privacyResponse.data.items.length !== 0) {\n                    data.privacy = privacyResponse.data.items[0];\n                }\n\n                dispatch(setData(data));\n                dispatch(fetchOrgs());\n                goTo('/', false, {});\n            }\n        },\n        [dispatch, goTo]\n    );\n    return { onLogin };\n};\n"],"sourceRoot":""}