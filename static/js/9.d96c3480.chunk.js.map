{"version":3,"sources":["components/input/Input.tsx","api/login.ts","assets/img/login.png","pages/login/Login.tsx","pages/login/useLogin.ts"],"names":["Input","label","onChange","value","placeholder","type","name","labelClassName","inputClassName","Prefix","className","prefix","login","params","a","headers","iss_email","email","iss_password","password","ApiService","Item","Form","Login","onLogin","dispatch","useAppDispatch","goTo","useAppHistory","useCallback","values","response","console","log","data","error_id","items","token","setData","useLogin","t","useTranslation","src","loginImg","alt","onFinish","size","href","htmlType"],"mappings":"yLAkBaA,EAAmB,SAAC,GAU1B,IATHC,EASE,EATFA,MACAC,EAQE,EARFA,SACAC,EAOE,EAPFA,MACAC,EAME,EANFA,YAME,IALFC,YAKE,MALK,OAKL,EAJFC,EAIE,EAJFA,KAIE,IAHFC,sBAGE,MAHe,GAGf,MAFFC,sBAEE,MAFe,GAEf,EADFC,EACE,EADFA,OAEA,OACI,sBAAKC,UAAU,iBAAf,UACI,uBAAOA,UAAS,uBAAkBH,GAAlC,SAAqDN,IACrD,cAAC,IAAD,CACII,KAAMA,EACNK,UAAS,wBAAmBF,GAC5BN,SAAUA,EACVC,MAAOA,EACPC,YAAaA,EACbE,KAAMA,EACNK,OAAQF,S,kHChCXG,EAAK,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACXC,EAAU,CACZC,UAAWH,EAAOI,MAClBC,aAAcL,EAAOM,UAHR,kBAMVC,YAAgB,MAAO,aAAc,KAAM,KAAML,IANvC,2CAAH,sD,wBCPH,MAA0B,kC,6DCSjCM,EAASC,IAATD,KAsDOE,UApDG,WAAO,IACbC,ECNY,WACpB,IAAMC,EAAWC,cACTC,EAASC,cAATD,KAmBR,MAAO,CAAEH,QAlBOK,sBAAW,uCACvB,WAAOC,GAAP,yBAAAhB,EAAA,sEAC2BF,EAAMkB,GADjC,OACUC,EADV,OAEIC,QAAQC,IAAIF,GAFhB,EAMQA,EAFAG,KAAQC,EAJhB,EAIgBA,SAAUC,EAJ1B,EAI0BA,MAClBrB,EACAgB,EADAhB,QAEa,IAAboB,IAGME,EAAQtB,EAAO,yBACrBU,EAASa,YAAQ,CAAEJ,KAAME,EAAM,GAAIC,WACnCV,EAAK,KAAK,EAAO,KAZzB,2CADuB,sDAgBvB,CAACF,EAAUE,KDbKY,GAAZf,QACAgB,EAAMC,cAAND,EACR,OACI,sBAAK9B,UAAU,QAAf,UACI,qBAAKA,UAAU,eAAf,SACI,qBAAKgC,IAAKC,EAAUC,IAAI,gBAE5B,sBAAKlC,UAAU,cAAf,UACI,oBAAIA,UAAU,oBAAd,SAAmC8B,EAAE,cACrC,mBAAG9B,UAAU,0BAAb,SAAwC8B,EAAE,yBAC1C,eAAC,IAAD,CAAMlC,KAAK,aAAauC,SAAUrB,EAAlC,UACI,cAACH,EAAD,CAAMf,KAAK,QAAX,SACI,cAAC,IAAD,CACID,KAAK,QACLD,YAAaoC,EAAE,YACfvC,MAAOuC,EAAE,YACTjC,eAAe,0BACfC,eAAe,oBACfC,OAAQ,cAAC,IAAD,CAAMqC,KAAM,GAAIpC,UAAU,+BAG1C,cAACW,EAAD,CAAMf,KAAK,WAAX,SACI,cAAC,IAAD,CACID,KAAK,WACLD,YAAaoC,EAAE,eACfvC,MAAOuC,EAAE,eACTjC,eAAe,0BACfC,eAAe,oBACfC,OAAQ,cAAC,IAAD,CAAMqC,KAAM,GAAIpC,UAAU,+BAG1C,sBAAKA,UAAU,sBAAf,UACI,sBAAMA,UAAU,2BAAhB,SAA4C8B,EAAE,2BAC9C,mBAAGO,KAAK,YAAYrC,UAAU,2BAA9B,SACK8B,EAAE,0BAGX,sBAAK9B,UAAU,sBAAf,UACI,cAAC,IAAD,CAAQA,UAAU,uBAAuBsC,SAAS,SAAlD,SACKR,EAAE,iBAEP,cAAC,IAAD,CAAQ9B,UAAU,oBAAoBsC,SAAS,SAA/C,SACKR,EAAE","file":"static/js/9.d96c3480.chunk.js","sourcesContent":["import { ChangeEventHandler, FC } from 'react';\r\nimport { Input as AntInput } from 'antd';\r\n\r\nimport './Input.css';\r\nimport { Icon } from 'react-feather';\r\n\r\ninterface Props {\r\n    label?: string;\r\n    onChange?: ChangeEventHandler<HTMLInputElement>;\r\n    value?: string | number | undefined;\r\n    placeholder?: string;\r\n    type?: string;\r\n    name?: string;\r\n    labelClassName?: string;\r\n    inputClassName?: string;\r\n    Prefix?: JSX.Element;\r\n}\r\n\r\nexport const Input: FC<Props> = ({\r\n    label,\r\n    onChange,\r\n    value,\r\n    placeholder,\r\n    type = 'text',\r\n    name,\r\n    labelClassName = '',\r\n    inputClassName = '',\r\n    Prefix,\r\n}) => {\r\n    return (\r\n        <div className='input__wrapper'>\r\n            <label className={`input__label ${labelClassName}`}>{label}</label>\r\n            <AntInput\r\n                type={type}\r\n                className={`input__select ${inputClassName}`}\r\n                onChange={onChange}\r\n                value={value}\r\n                placeholder={placeholder}\r\n                name={name}\r\n                prefix={Prefix}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import { ApiService } from '.';\r\n\r\ninterface ILoginParams {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nexport const login = async (params: ILoginParams) => {\r\n    const headers = {\r\n        iss_email: params.email,\r\n        iss_password: params.password,\r\n    };\r\n\r\n    return ApiService<any>('GET', 'user/login', null, null, headers);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/login.e97b9f18.png\";","import { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useLogin } from './useLogin';\r\nimport loginImg from '../../assets/img/login.png';\r\nimport './Login.css';\r\nimport { Button, Form } from 'antd';\r\nimport { Input } from '../../components/input';\r\nimport { Mail, Lock } from 'react-feather';\r\n\r\nconst { Item } = Form;\r\n\r\nconst Login: FC = () => {\r\n    const { onLogin } = useLogin();\r\n    const { t } = useTranslation();\r\n    return (\r\n        <div className='login'>\r\n            <div className='login__image'>\r\n                <img src={loginImg} alt='Login img' />\r\n            </div>\r\n            <div className='login__form'>\r\n                <h4 className='login__form-title'>{t('lblLogin')}</h4>\r\n                <p className='login__form-description'>{t('lblLoginDescription')}</p>\r\n                <Form name='login-form' onFinish={onLogin}>\r\n                    <Item name='email'>\r\n                        <Input\r\n                            type='email'\r\n                            placeholder={t('lblEmail')}\r\n                            label={t('lblEmail')}\r\n                            labelClassName='login__form-input-label'\r\n                            inputClassName='login__form-input'\r\n                            Prefix={<Mail size={16} className='login__form-input-icon' />}\r\n                        />\r\n                    </Item>\r\n                    <Item name='password'>\r\n                        <Input\r\n                            type='password'\r\n                            placeholder={t('lblPassword')}\r\n                            label={t('lblPassword')}\r\n                            labelClassName='login__form-input-label'\r\n                            inputClassName='login__form-input'\r\n                            Prefix={<Lock size={16} className='login__form-input-icon' />}\r\n                        />\r\n                    </Item>\r\n                    <div className='login__form-actions'>\r\n                        <span className='login__form-modal-action'>{t('lblReactivateQuestion')}</span>\r\n                        <a href='/register' className='login__form-modal-action'>\r\n                            {t('lblForgotPassword')}\r\n                        </a>\r\n                    </div>\r\n                    <div className='login__form-actions'>\r\n                        <Button className='login__form-register' htmlType='button'>\r\n                            {t('lblRegister')}\r\n                        </Button>\r\n                        <Button className='login__form-login' htmlType='submit'>\r\n                            {t('lblLogin')}\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import { useCallback } from 'react';\r\nimport { login } from '../../api/login';\r\nimport { useAppDispatch } from '../../redux/hooks';\r\nimport { setData } from '../../redux/reducers/userReducer';\r\nimport { useAppHistory } from '../../utils/useAppHistory';\r\n\r\nexport const useLogin = () => {\r\n    const dispatch = useAppDispatch();\r\n    const { goTo } = useAppHistory();\r\n    const onLogin = useCallback(\r\n        async (values: any) => {\r\n            const response = await login(values);\r\n            console.log(response);\r\n            const {\r\n                data: { error_id, items },\r\n                headers,\r\n            } = response;\r\n            if (error_id !== 0) {\r\n                // TODO\r\n            } else {\r\n                const token = headers['iss_authentication_token'];\r\n                dispatch(setData({ data: items[0], token }));\r\n                goTo('/', false, {});\r\n            }\r\n        },\r\n        [dispatch, goTo],\r\n    );\r\n    return { onLogin };\r\n};\r\n"],"sourceRoot":""}